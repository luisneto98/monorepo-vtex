---
title: Frontend Admin - Press Materials Module
section: 7.1.2
type: frontend
epic: Media Resources Management
priority: high
estimated_hours: 4
dependencies: [7.1.1-backend]
status: draft
---

# User Story: Frontend Admin for Press Materials

## Story
**As a** marketing administrator
**I want** an intuitive interface to manage press materials
**So that** I can easily upload, organize, and control access to media resources

## Background
This story implements the frontend admin interface for the Press Materials module, integrating with the backend API created in story 7.1.1. It provides a comprehensive media management system with upload, preview, and organization capabilities.

## Acceptance Criteria

### UI Components
- [ ] Press materials listing page with grid/list view toggle
- [ ] Upload interface with drag-and-drop support
- [ ] Material detail/edit modal
- [ ] Category/tag management interface
- [ ] Preview capability for all file types
- [ ] Bulk selection and actions
- [ ] Search and filter controls

### File Upload
- [ ] Drag-and-drop zone for files
- [ ] Multiple file upload support
- [ ] Upload progress indicators
- [ ] File type validation before upload
- [ ] Automatic thumbnail display
- [ ] Upload queue management
- [ ] Resume failed uploads

### Material Management
- [ ] CRUD operations for materials
- [ ] Inline editing for quick updates
- [ ] Status management (draft/published/archived)
- [ ] Access level control
- [ ] Tag assignment interface
- [ ] Download count display
- [ ] Copy shareable links

### User Experience
- [ ] Responsive grid layout
- [ ] Quick preview on hover
- [ ] Full preview modal
- [ ] Keyboard shortcuts for actions
- [ ] Undo/redo for edits
- [ ] Batch operations confirmation
- [ ] Export materials list

### Search & Filter
- [ ] Search by title/description
- [ ] Filter by type, status, tags
- [ ] Sort by date, downloads, name
- [ ] Advanced search modal
- [ ] Save filter presets
- [ ] Clear all filters

## Tasks / Subtasks

### 1. Page Setup (30 min)
- [ ] Create PressMaterials.tsx page component
- [ ] Add route to admin routing
- [ ] Add menu item to navigation
- [ ] Setup page layout with tabs

### 2. Listing Components (60 min)
- [ ] Create MaterialsGrid component
- [ ] Create MaterialsList component
- [ ] Implement view toggle
- [ ] Add pagination controls
- [ ] Create MaterialCard component
- [ ] Add selection checkboxes

### 3. Upload Interface (60 min)
- [ ] Create FileUploadZone component
- [ ] Implement drag-and-drop
- [ ] Add upload progress tracking
- [ ] Create upload queue display
- [ ] Handle multiple files
- [ ] Add file validation

### 4. Material Management (45 min)
- [ ] Create MaterialEditModal component
- [ ] Implement inline editing
- [ ] Add status controls
- [ ] Create tag selector
- [ ] Add delete confirmation
- [ ] Implement bulk actions

### 5. Preview System (45 min)
- [ ] Create PreviewModal component
- [ ] Add image preview
- [ ] Add video player
- [ ] Add PDF viewer
- [ ] Implement download button
- [ ] Add share functionality

### 6. Search & Filters (30 min)
- [ ] Create SearchBar component
- [ ] Add filter dropdowns
- [ ] Implement sort controls
- [ ] Create FilterPresets component
- [ ] Add clear filters button

### 7. Service Integration (30 min)
- [ ] Create press-materials.service.ts
- [ ] Add upload service methods
- [ ] Implement caching strategy
- [ ] Handle error responses
- [ ] Add retry logic

### 8. Polish & Testing (60 min)
- [ ] Add loading skeletons
- [ ] Implement error boundaries
- [ ] Add success notifications
- [ ] Test responsive design
- [ ] Write component tests
- [ ] Verify accessibility

## Dev Notes

### Technical Context
- React 18 with TypeScript
- Shadcn/ui component library
- React Query for server state
- React Dropzone for file uploads
- Tailwind CSS for styling
- Follow patterns from existing admin modules

### Key Implementation Details
1. **Upload Handling**:
   - Use React Dropzone for drag-and-drop
   - Chunk large files for upload
   - Show progress with React Query mutations
   - Queue uploads to prevent overload

2. **Preview Components**:
   - Image: Use native img with lazy loading
   - Video: HTML5 video player
   - PDF: PDF.js or iframe
   - Office: Google Docs viewer or download only

3. **Performance Optimizations**:
   - Virtual scrolling for large lists
   - Lazy load preview components
   - Debounce search input
   - Cache thumbnails locally

4. **State Management**:
   - React Query for server data
   - Local state for UI (view mode, selection)
   - Context for shared filters
   - Session storage for view preferences

### File Dependencies
- API client: apps/admin/src/lib/api.ts
- UI components: apps/admin/src/components/ui/
- Auth context: apps/admin/src/contexts/AuthContext.tsx
- Toast notifications: apps/admin/src/hooks/use-toast.ts

### Component Libraries
```json
{
  "react-dropzone": "^14.2.3",
  "react-player": "^2.13.0",
  "react-pdf": "^7.5.0",
  "react-intersection-observer": "^9.5.3",
  "react-window": "^1.8.10"
}
```

## Technical Notes

### File Structure
```
apps/admin/src/
├── pages/
│   └── PressMaterials.tsx
├── components/
│   └── press-materials/
│       ├── MaterialsGrid.tsx
│       ├── MaterialsList.tsx
│       ├── MaterialCard.tsx
│       ├── FileUploadZone.tsx
│       ├── UploadQueue.tsx
│       ├── MaterialEditModal.tsx
│       ├── PreviewModal.tsx
│       ├── SearchFilters.tsx
│       └── BulkActions.tsx
├── services/
│   └── press-materials.service.ts
└── hooks/
    ├── usePressMaterials.ts
    ├── useFileUpload.ts
    └── useMaterialFilters.ts
```

### Component Example
```typescript
// FileUploadZone.tsx
const FileUploadZone: React.FC = () => {
  const { getRootProps, getInputProps, isDragActive } = useDropzone({
    accept: {
      'application/pdf': ['.pdf'],
      'application/zip': ['.zip'],
      'image/*': ['.png', '.jpg', '.jpeg', '.webp'],
      'video/*': ['.mp4', '.mov', '.webm']
    },
    maxSize: 524288000, // 500MB
    multiple: true,
    onDrop: handleFilesDrop
  });

  return (
    <div
      {...getRootProps()}
      className={cn(
        "border-2 border-dashed rounded-lg p-8",
        "transition-colors cursor-pointer",
        isDragActive && "border-primary bg-primary/5"
      )}
    >
      <input {...getInputProps()} />
      <div className="text-center">
        <Upload className="mx-auto h-12 w-12 text-muted-foreground" />
        <p className="mt-2 text-sm">
          {isDragActive
            ? "Solte os arquivos aqui..."
            : "Arraste arquivos ou clique para selecionar"}
        </p>
        <p className="text-xs text-muted-foreground mt-1">
          PDF, ZIP, Imagens ou Vídeos (até 500MB)
        </p>
      </div>
    </div>
  );
};
```

## Testing

### Unit Tests
- [ ] Component rendering tests
- [ ] Upload functionality tests
- [ ] Filter logic tests
- [ ] Service method tests

### Integration Tests
- [ ] File upload flow
- [ ] CRUD operations
- [ ] Search and filter
- [ ] Bulk operations

### Accessibility Tests
- [ ] Keyboard navigation
- [ ] Screen reader support
- [ ] Focus management
- [ ] ARIA labels

### E2E Tests
- [ ] Complete upload workflow
- [ ] Material management flow
- [ ] Search and filter scenarios

### Test Frameworks
- Jest + React Testing Library
- MSW for API mocking
- Playwright for E2E

## Definition of Done
- [ ] All components implemented
- [ ] File upload fully functional
- [ ] Preview system working
- [ ] Search/filter operational
- [ ] Tests passing (>80% coverage)
- [ ] Responsive design verified
- [ ] Code review approved

## Dependencies
- Story 7.1.1 (Backend API) completed
- S3 bucket configured
- File upload libraries installed
- Preview libraries configured

## Mockups/Design
- Grid view with cards showing thumbnails
- List view with detailed information
- Modal overlays for preview/edit
- Progress bars for uploads
- Tag pills for categorization

## Notes
- Consider adding AI-powered auto-tagging
- Implement analytics dashboard for downloads
- Add watermarking option for images
- Consider CDN integration for better performance

## Change Log

| Date | Author | Description |
|------|--------|-------------|
| 2025-09-28 | Sarah (PO) | Initial story creation |

## Dev Agent Record

_No development activity yet_

## QA Results

_Pending implementation_