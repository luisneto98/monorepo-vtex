{"file":"/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/news-releases/services/content-sanitization.service.ts","mappings":";;;;;;;;;AAAA,2CAA4C;AAC5C,kEAA8D;AAIvD,IAAM,0BAA0B,GAAhC,MAAM,0BAA0B;IACrC,wBAAwB,CAAC,OAA6B;QACpD,OAAO;YACL,KAAK,EAAE,oCAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC;YACnD,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,oCAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS;YACxF,OAAO,EAAE,oCAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC;YACvD,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,oCAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS;YAC3F,eAAe,EAAE,OAAO,CAAC,eAAe;gBACtC,CAAC,CAAC,oCAAgB,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC;gBACxD,CAAC,CAAC,SAAS;YACb,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,oCAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SACzE,CAAC;IACJ,CAAC;IAED,kBAAkB,CAAC,OAIlB;QACC,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACxD,EAAE,EAAE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChD,EAAE,EAAE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACjD,CAAC;IACJ,CAAC;CACF,CAAA;AAzBY,gEAA0B;qCAA1B,0BAA0B;IADtC,IAAA,mBAAU,GAAE;GACA,0BAA0B,CAyBtC","names":[],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/news-releases/services/content-sanitization.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { SanitizationUtil } from '../utils/sanitization.util';\nimport { LocalizedNewsContent } from '@vtexday26/shared';\n\n@Injectable()\nexport class ContentSanitizationService {\n  sanitizeLocalizedContent(content: LocalizedNewsContent): LocalizedNewsContent {\n    return {\n      title: SanitizationUtil.sanitizeText(content.title),\n      subtitle: content.subtitle ? SanitizationUtil.sanitizeText(content.subtitle) : undefined,\n      content: SanitizationUtil.sanitizeHtml(content.content),\n      metaTitle: content.metaTitle ? SanitizationUtil.sanitizeText(content.metaTitle) : undefined,\n      metaDescription: content.metaDescription\n        ? SanitizationUtil.sanitizeText(content.metaDescription)\n        : undefined,\n      keywords: content.keywords?.map((k) => SanitizationUtil.sanitizeText(k)),\n    };\n  }\n\n  sanitizeAllContent(content: {\n    'pt-BR': LocalizedNewsContent;\n    en: LocalizedNewsContent;\n    es: LocalizedNewsContent;\n  }): any {\n    return {\n      'pt-BR': this.sanitizeLocalizedContent(content['pt-BR']),\n      en: this.sanitizeLocalizedContent(content['en']),\n      es: this.sanitizeLocalizedContent(content['es']),\n    };\n  }\n}\n"],"version":3}