a495d955183f8854f7cffc05e08f8b75
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SponsorsController = void 0;
const common_1 = require("@nestjs/common");
const platform_express_1 = require("@nestjs/platform-express");
const throttler_1 = require("@nestjs/throttler");
const swagger_1 = require("@nestjs/swagger");
const sponsors_service_1 = require("./sponsors.service");
const jwt_auth_guard_1 = require("@common/guards/jwt-auth.guard");
const roles_guard_1 = require("@common/guards/roles.guard");
const roles_decorator_1 = require("@common/decorators/roles.decorator");
const user_types_1 = require("@shared/types/user.types");
const public_decorator_1 = require("@common/decorators/public.decorator");
const create_sponsor_dto_1 = require("./dto/create-sponsor.dto");
const update_sponsor_dto_1 = require("./dto/update-sponsor.dto");
const sponsor_filter_dto_1 = require("./dto/sponsor-filter.dto");
const create_sponsor_tier_dto_1 = require("./dto/create-sponsor-tier.dto");
const update_sponsor_tier_dto_1 = require("./dto/update-sponsor-tier.dto");
const reorder_tiers_dto_1 = require("./dto/reorder-tiers.dto");
const api_response_dto_1 = require("@common/dto/api-response.dto");
let SponsorsController = class SponsorsController {
    sponsorsService;
    constructor(sponsorsService) {
        this.sponsorsService = sponsorsService;
    }
    // ====================================
    // SPONSOR TIER ENDPOINTS (must come before :id routes)
    // ====================================
    async createTier(createTierDto) {
        const tier = await this.sponsorsService.createTier(createTierDto);
        return api_response_dto_1.ApiResponse.success(tier);
    }
    async findAllTiers() {
        const tiers = await this.sponsorsService.findAllTiers();
        return api_response_dto_1.ApiResponse.success(tiers);
    }
    async findOneTier(id) {
        const tier = await this.sponsorsService.findTierById(id);
        return api_response_dto_1.ApiResponse.success(tier);
    }
    async reorderTiers(reorderDto) {
        await this.sponsorsService.reorderTiers(reorderDto.tierIds);
        return api_response_dto_1.ApiResponse.success({ message: 'Tiers reordered successfully' });
    }
    async updateTier(id, updateTierDto) {
        const tier = await this.sponsorsService.updateTier(id, updateTierDto);
        return api_response_dto_1.ApiResponse.success(tier);
    }
    async removeTier(id) {
        await this.sponsorsService.removeTier(id);
    }
    // ====================================
    // SPONSOR ENDPOINTS
    // ====================================
    async create(createSponsorDto) {
        const sponsor = await this.sponsorsService.createSponsor(createSponsorDto);
        return api_response_dto_1.ApiResponse.success(sponsor);
    }
    async findAll(filterDto) {
        const result = await this.sponsorsService.findAllSponsors(filterDto);
        return api_response_dto_1.ApiResponse.success(result.data, result.metadata);
    }
    async findPublicSponsors(page, limit) {
        const result = await this.sponsorsService.findPublicSponsors(page, limit);
        return api_response_dto_1.ApiResponse.success(result.data, result.metadata);
    }
    async findPublicSponsorsByTier() {
        const sponsors = await this.sponsorsService.findPublicSponsorsByTier();
        return api_response_dto_1.ApiResponse.success(sponsors);
    }
    async findGroupedByTier() {
        const sponsors = await this.sponsorsService.findSponsorsByTier();
        return api_response_dto_1.ApiResponse.success(sponsors);
    }
    async findPublicSponsorById(id) {
        const sponsor = await this.sponsorsService.findPublicSponsorById(id);
        return api_response_dto_1.ApiResponse.success(sponsor);
    }
    async findOne(id) {
        const sponsor = await this.sponsorsService.findSponsorById(id);
        return api_response_dto_1.ApiResponse.success(sponsor);
    }
    async update(id, updateSponsorDto) {
        const sponsor = await this.sponsorsService.updateSponsor(id, updateSponsorDto);
        return api_response_dto_1.ApiResponse.success(sponsor);
    }
    async remove(id, req, reason) {
        const userId = req.user?.id;
        await this.sponsorsService.removeSponsor(id, reason, userId);
    }
    async restore(id) {
        const sponsor = await this.sponsorsService.restoreSponsor(id);
        return api_response_dto_1.ApiResponse.success(sponsor);
    }
    async uploadLogo(id, file) {
        if (!file) {
            throw new common_1.BadRequestException('No file provided');
        }
        const logoUrl = await this.sponsorsService.uploadLogo(id, file);
        return api_response_dto_1.ApiResponse.success({ logoUrl });
    }
};
exports.SponsorsController = SponsorsController;
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Post)('tiers'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, common_1.HttpCode)(common_1.HttpStatus.CREATED),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Create new sponsor tier (Super Admin only)' }),
    (0, swagger_1.ApiBody)({ type: create_sponsor_tier_dto_1.CreateSponsorTierDto }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Tier created successfully',
        schema: {
            example: {
                success: true,
                data: {
                    _id: '507f1f77bcf86cd799439012',
                    name: { 'pt-BR': 'Diamante', en: 'Diamond' },
                    priority: 1,
                    benefits: { 'pt-BR': ['Benefício 1', 'Benefício 2'], en: ['Benefit 1', 'Benefit 2'] },
                    maxSlots: 3,
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Validation error' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [create_sponsor_tier_dto_1.CreateSponsorTierDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "createTier", null);
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Get)('tiers'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'List all sponsor tiers' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'List of sponsor tiers',
        schema: {
            example: {
                success: true,
                data: [
                    {
                        _id: '507f1f77bcf86cd799439012',
                        name: { 'pt-BR': 'Diamante', en: 'Diamond' },
                        priority: 1,
                        maxSlots: 3,
                        currentSponsors: 2,
                    },
                ],
            },
        },
    }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findAllTiers", null);
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Get)('tiers/:id'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'Get sponsor tier by ID' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Tier ID' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Tier details',
    }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Tier not found' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findOneTier", null);
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Patch)('tiers/reorder'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Reorder sponsor tiers (Super Admin only)' }),
    (0, swagger_1.ApiBody)({ type: reorder_tiers_dto_1.ReorderTiersDto }),
    (0, swagger_1.ApiResponse)({ status: 200, description: 'Tiers reordered successfully' }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Validation error' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [reorder_tiers_dto_1.ReorderTiersDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "reorderTiers", null);
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Patch)('tiers/:id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Update sponsor tier (Super Admin only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Tier ID' }),
    (0, swagger_1.ApiBody)({ type: update_sponsor_tier_dto_1.UpdateSponsorTierDto }),
    (0, swagger_1.ApiResponse)({ status: 200, description: 'Tier updated successfully' }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Validation error' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Tier not found' }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, update_sponsor_tier_dto_1.UpdateSponsorTierDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "updateTier", null);
__decorate([
    (0, swagger_1.ApiTags)('Sponsor Tiers'),
    (0, common_1.Delete)('tiers/:id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, common_1.HttpCode)(common_1.HttpStatus.NO_CONTENT),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Delete sponsor tier (Super Admin only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Tier ID' }),
    (0, swagger_1.ApiResponse)({ status: 204, description: 'Tier deleted successfully' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Tier not found' }),
    (0, swagger_1.ApiResponse)({ status: 409, description: 'Cannot delete tier with existing sponsors' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "removeTier", null);
__decorate([
    (0, common_1.Post)(),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN, user_types_1.UserRole.PRODUCER),
    (0, common_1.HttpCode)(common_1.HttpStatus.CREATED),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Create new sponsor (Admin/Producer only)' }),
    (0, swagger_1.ApiBody)({ type: create_sponsor_dto_1.CreateSponsorDto }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Sponsor created successfully',
        schema: {
            example: {
                success: true,
                data: {
                    _id: '507f1f77bcf86cd799439011',
                    name: 'VTEX',
                    description: { 'pt-BR': 'Descrição...', en: 'Description...' },
                    logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                    website: 'https://vtex.com',
                    tier: '507f1f77bcf86cd799439012',
                    socialLinks: { linkedin: 'https://linkedin.com/company/vtex' },
                    orderInTier: 1,
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Validation error' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden - insufficient role' }),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [create_sponsor_dto_1.CreateSponsorDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "create", null);
__decorate([
    (0, common_1.Get)(),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'List all sponsors with filters and pagination' }),
    (0, swagger_1.ApiQuery)({ name: 'page', required: false, type: Number, example: 1 }),
    (0, swagger_1.ApiQuery)({ name: 'limit', required: false, type: Number, example: 20 }),
    (0, swagger_1.ApiQuery)({ name: 'sort', required: false, type: String, example: 'tier.priority,orderInTier' }),
    (0, swagger_1.ApiQuery)({
        name: 'search',
        required: false,
        type: String,
        description: 'Search in name and description',
    }),
    (0, swagger_1.ApiQuery)({ name: 'tier', required: false, type: String, description: 'Filter by tier ID' }),
    (0, swagger_1.ApiQuery)({
        name: 'isActive',
        required: false,
        type: Boolean,
        description: 'Filter active sponsors',
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'List of sponsors with pagination',
        schema: {
            example: {
                success: true,
                data: [
                    {
                        _id: '507f1f77bcf86cd799439011',
                        name: 'VTEX',
                        logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                        tier: { _id: '507f1f77bcf86cd799439012', name: 'Diamond', priority: 1 },
                        orderInTier: 1,
                    },
                ],
                metadata: {
                    total: 25,
                    page: 1,
                    limit: 20,
                    totalPages: 2,
                    hasNext: true,
                    hasPrev: false,
                },
            },
        },
    }),
    __param(0, (0, common_1.Query)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [sponsor_filter_dto_1.SponsorFilterDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findAll", null);
__decorate([
    (0, common_1.Get)('public'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'List all visible sponsors for public display' }),
    (0, swagger_1.ApiQuery)({ name: 'page', required: false, type: Number, example: 1 }),
    (0, swagger_1.ApiQuery)({ name: 'limit', required: false, type: Number, example: 20 }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'List of visible sponsors (excludes sensitive fields)',
        schema: {
            example: {
                success: true,
                data: [
                    {
                        _id: '507f1f77bcf86cd799439011',
                        name: 'VTEX',
                        slug: 'vtex',
                        description: {
                            'pt-BR': 'Plataforma de comércio digital',
                            en: 'Digital commerce platform',
                        },
                        logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                        tier: '507f1f77bcf86cd799439012',
                        orderInTier: 1,
                        websiteUrl: 'https://vtex.com',
                        standLocation: 'A1',
                        contactEmail: 'contact@vtex.com',
                        socialLinks: { linkedin: 'https://linkedin.com/company/vtex' },
                        tags: ['technology', 'ecommerce'],
                        isVisible: true,
                    },
                ],
                metadata: {
                    total: 25,
                    page: 1,
                    limit: 20,
                    hasNext: true,
                    hasPrev: false,
                },
            },
        },
    }),
    __param(0, (0, common_1.Query)('page')),
    __param(1, (0, common_1.Query)('limit')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number, Number]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findPublicSponsors", null);
__decorate([
    (0, common_1.Get)('public/grouped-by-tier'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'Get visible sponsors grouped by tier for public display' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Visible sponsors grouped by tier (excludes sensitive fields)',
        schema: {
            example: {
                success: true,
                data: [
                    {
                        tier: { _id: '507f1f77bcf86cd799439012', name: 'Diamond', order: 1 },
                        sponsors: [
                            {
                                _id: '507f1f77bcf86cd799439011',
                                name: 'VTEX',
                                slug: 'vtex',
                                description: {
                                    'pt-BR': 'Plataforma de comércio digital',
                                    en: 'Digital commerce platform',
                                },
                                logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                                tier: '507f1f77bcf86cd799439012',
                                orderInTier: 1,
                                websiteUrl: 'https://vtex.com',
                                standLocation: 'A1',
                                socialLinks: { linkedin: 'https://linkedin.com/company/vtex' },
                                tags: ['technology'],
                                isVisible: true,
                            },
                        ],
                    },
                    {
                        tier: { _id: '507f1f77bcf86cd799439013', name: 'Gold', order: 2 },
                        sponsors: [
                            {
                                _id: '507f1f77bcf86cd799439014',
                                name: 'AWS',
                                slug: 'aws',
                                description: { 'pt-BR': 'Computação em nuvem', en: 'Cloud computing' },
                                logoUrl: 'https://cdn.vtexday.com/sponsors/aws.png',
                                tier: '507f1f77bcf86cd799439013',
                                orderInTier: 1,
                                websiteUrl: 'https://aws.amazon.com',
                                tags: ['cloud'],
                                isVisible: true,
                            },
                        ],
                    },
                ],
            },
        },
    }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findPublicSponsorsByTier", null);
__decorate([
    (0, common_1.Get)('grouped-by-tier'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'Get sponsors grouped by tier' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Sponsors grouped by tier',
        schema: {
            example: {
                success: true,
                data: [
                    {
                        tier: { _id: '507f1f77bcf86cd799439012', name: 'Diamond', priority: 1 },
                        sponsors: [
                            {
                                _id: '507f1f77bcf86cd799439011',
                                name: 'VTEX',
                                logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                            },
                        ],
                    },
                    {
                        tier: { _id: '507f1f77bcf86cd799439013', name: 'Gold', priority: 2 },
                        sponsors: [
                            {
                                _id: '507f1f77bcf86cd799439014',
                                name: 'AWS',
                                logoUrl: 'https://cdn.vtexday.com/sponsors/aws.png',
                            },
                        ],
                    },
                ],
            },
        },
    }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findGroupedByTier", null);
__decorate([
    (0, common_1.Get)('public/:id'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'Get visible sponsor details by ID for public display' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID', example: '507f1f77bcf86cd799439011' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Sponsor details (excludes sensitive fields)',
        schema: {
            example: {
                success: true,
                data: {
                    _id: '507f1f77bcf86cd799439011',
                    name: 'VTEX',
                    slug: 'vtex',
                    description: {
                        'pt-BR': 'Plataforma de comércio digital',
                        en: 'Digital commerce platform',
                    },
                    logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                    tier: '507f1f77bcf86cd799439012',
                    orderInTier: 1,
                    websiteUrl: 'https://vtex.com',
                    standLocation: 'A1',
                    contactEmail: 'contact@vtex.com',
                    socialLinks: { linkedin: 'https://linkedin.com/company/vtex' },
                    tags: ['technology', 'ecommerce'],
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found or not visible' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findPublicSponsorById", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, public_decorator_1.Public)(),
    (0, swagger_1.ApiOperation)({ summary: 'Get sponsor by ID' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID', example: '507f1f77bcf86cd799439011' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Sponsor details',
        schema: {
            example: {
                success: true,
                data: {
                    _id: '507f1f77bcf86cd799439011',
                    name: 'VTEX',
                    description: { 'pt-BR': 'Plataforma de comércio...', en: 'Commerce platform...' },
                    logoUrl: 'https://cdn.vtexday.com/sponsors/vtex.png',
                    website: 'https://vtex.com',
                    tier: { _id: '507f1f77bcf86cd799439012', name: 'Diamond' },
                    socialLinks: { linkedin: 'https://linkedin.com/company/vtex', twitter: '@vtex' },
                    boothNumber: 'A1',
                    contactPerson: { name: 'João Silva', email: 'joao@vtex.com', phone: '+5511999999999' },
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "findOne", null);
__decorate([
    (0, common_1.Patch)(':id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN, user_types_1.UserRole.PRODUCER),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Update sponsor (Admin/Producer only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID' }),
    (0, swagger_1.ApiBody)({ type: update_sponsor_dto_1.UpdateSponsorDto }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Sponsor updated successfully',
    }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Validation error' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found' }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, update_sponsor_dto_1.UpdateSponsorDto]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "update", null);
__decorate([
    (0, common_1.Delete)(':id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, common_1.HttpCode)(common_1.HttpStatus.NO_CONTENT),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Soft delete sponsor (Super Admin only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID' }),
    (0, swagger_1.ApiQuery)({ name: 'reason', required: false, description: 'Reason for deletion' }),
    (0, swagger_1.ApiResponse)({ status: 204, description: 'Sponsor deleted successfully' }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found' }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Req)()),
    __param(2, (0, common_1.Query)('reason')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object, String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "remove", null);
__decorate([
    (0, common_1.Post)(':id/restore'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiOperation)({ summary: 'Restore soft-deleted sponsor (Super Admin only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Sponsor restored successfully',
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "restore", null);
__decorate([
    (0, common_1.Post)(':id/upload-logo'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, roles_decorator_1.Roles)(user_types_1.UserRole.SUPER_ADMIN, user_types_1.UserRole.PRODUCER),
    (0, common_1.UseInterceptors)((0, platform_express_1.FileInterceptor)('file')),
    (0, throttler_1.Throttle)({ default: { limit: 5, ttl: 60000 } }),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, swagger_1.ApiConsumes)('multipart/form-data'),
    (0, swagger_1.ApiOperation)({ summary: 'Upload sponsor logo (Admin/Producer only)' }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'Sponsor ID', example: '507f1f77bcf86cd799439011' }),
    (0, swagger_1.ApiBody)({
        schema: {
            type: 'object',
            properties: {
                file: {
                    type: 'string',
                    format: 'binary',
                    description: 'Sponsor logo (JPEG, PNG, or WebP, max 5MB)',
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Logo uploaded successfully',
        schema: {
            example: {
                success: true,
                data: {
                    logoUrl: 'https://bucket.s3.region.amazonaws.com/sponsor-logos/1234567890-abc123.jpg',
                },
            },
        },
    }),
    (0, swagger_1.ApiResponse)({
        status: 400,
        description: 'Invalid file type or size, or virus detected',
        schema: {
            example: {
                success: false,
                error: 'Invalid file type. Only JPEG, PNG, WEBP files are allowed.',
            },
        },
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Forbidden - insufficient role' }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Sponsor not found' }),
    (0, swagger_1.ApiResponse)({
        status: 429,
        description: 'Rate limit exceeded',
        schema: {
            example: {
                success: false,
                error: 'Upload rate limit exceeded. Please try again later.',
            },
        },
    }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.UploadedFile)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], SponsorsController.prototype, "uploadLogo", null);
exports.SponsorsController = SponsorsController = __decorate([
    (0, swagger_1.ApiTags)('Sponsors'),
    (0, common_1.Controller)('sponsors'),
    __metadata("design:paramtypes", [sponsors_service_1.SponsorsService])
], SponsorsController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbHVpc25ldG85OC9Eb2N1bWVudG9zL0NvZGUvbW9ub3JlcG8tdnRleC9hcHBzL2FwaS9zcmMvbW9kdWxlcy9zcG9uc29ycy9zcG9uc29ycy5jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQWdCd0I7QUFDeEIsK0RBQTJEO0FBQzNELGlEQUE2QztBQUM3Qyw2Q0FTeUI7QUFDekIseURBQXFEO0FBQ3JELGtFQUE2RDtBQUM3RCw0REFBd0Q7QUFDeEQsd0VBQTJEO0FBQzNELHlEQUFvRDtBQUNwRCwwRUFBNkQ7QUFDN0QsaUVBQTREO0FBQzVELGlFQUE0RDtBQUM1RCxpRUFBNEQ7QUFDNUQsMkVBQXFFO0FBQ3JFLDJFQUFxRTtBQUNyRSwrREFBMEQ7QUFDMUQsbUVBQTJEO0FBS3BELElBQU0sa0JBQWtCLEdBQXhCLE1BQU0sa0JBQWtCO0lBQ0E7SUFBN0IsWUFBNkIsZUFBZ0M7UUFBaEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO0lBQUcsQ0FBQztJQUVqRSx1Q0FBdUM7SUFDdkMsdURBQXVEO0lBQ3ZELHVDQUF1QztJQTZCakMsQUFBTixLQUFLLENBQUMsVUFBVSxDQUFTLGFBQW1DO1FBQzFELE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbEUsT0FBTyw4QkFBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBd0JLLEFBQU4sS0FBSyxDQUFDLFlBQVk7UUFDaEIsTUFBTSxLQUFLLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3hELE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQVlLLEFBQU4sS0FBSyxDQUFDLFdBQVcsQ0FBYyxFQUFVO1FBQ3ZDLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekQsT0FBTyw4QkFBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBYUssQUFBTixLQUFLLENBQUMsWUFBWSxDQUFTLFVBQTJCO1FBQ3BELE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVELE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFlSyxBQUFOLEtBQUssQ0FBQyxVQUFVLENBQWMsRUFBVSxFQUFVLGFBQW1DO1FBQ25GLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQ3RFLE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWVLLEFBQU4sS0FBSyxDQUFDLFVBQVUsQ0FBYyxFQUFVO1FBQ3RDLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELHVDQUF1QztJQUN2QyxvQkFBb0I7SUFDcEIsdUNBQXVDO0lBK0JqQyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQVMsZ0JBQWtDO1FBQ3JELE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMzRSxPQUFPLDhCQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUErQ0ssQUFBTixLQUFLLENBQUMsT0FBTyxDQUFVLFNBQTJCO1FBQ2hELE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckUsT0FBTyw4QkFBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBMkNLLEFBQU4sS0FBSyxDQUFDLGtCQUFrQixDQUFnQixJQUFhLEVBQWtCLEtBQWM7UUFDbkYsTUFBTSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMxRSxPQUFPLDhCQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUF1REssQUFBTixLQUFLLENBQUMsd0JBQXdCO1FBQzVCLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQ3ZFLE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQW9DSyxBQUFOLEtBQUssQ0FBQyxpQkFBaUI7UUFDckIsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDakUsT0FBTyw4QkFBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLHFCQUFxQixDQUFjLEVBQVU7UUFDakQsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JFLE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQTJCSyxBQUFOLEtBQUssQ0FBQyxPQUFPLENBQWMsRUFBVTtRQUNuQyxNQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQWlCSyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQWMsRUFBVSxFQUFVLGdCQUFrQztRQUM5RSxNQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQy9FLE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQWNLLEFBQU4sS0FBSyxDQUFDLE1BQU0sQ0FBYyxFQUFVLEVBQVMsR0FBWSxFQUFtQixNQUFlO1FBQ3pGLE1BQU0sTUFBTSxHQUFJLEdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1FBQ3JDLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBZUssQUFBTixLQUFLLENBQUMsT0FBTyxDQUFjLEVBQVU7UUFDbkMsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM5RCxPQUFPLDhCQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUEwREssQUFBTixLQUFLLENBQUMsVUFBVSxDQUFjLEVBQVUsRUFBa0IsSUFBeUI7UUFDakYsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ1YsTUFBTSxJQUFJLDRCQUFtQixDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVELE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sOEJBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLENBQUM7Q0FDRixDQUFBO0FBcGlCWSxnREFBa0I7QUFrQ3ZCO0lBM0JMLElBQUEsaUJBQU8sRUFBQyxlQUFlLENBQUM7SUFDeEIsSUFBQSxhQUFJLEVBQUMsT0FBTyxDQUFDO0lBQ2IsSUFBQSxrQkFBUyxFQUFDLDZCQUFZLEVBQUUsd0JBQVUsQ0FBQztJQUNuQyxJQUFBLHVCQUFLLEVBQUMscUJBQVEsQ0FBQyxXQUFXLENBQUM7SUFDM0IsSUFBQSxpQkFBUSxFQUFDLG1CQUFVLENBQUMsT0FBTyxDQUFDO0lBQzVCLElBQUEsdUJBQWEsRUFBQyxVQUFVLENBQUM7SUFDekIsSUFBQSxzQkFBWSxFQUFDLEVBQUUsT0FBTyxFQUFFLDRDQUE0QyxFQUFFLENBQUM7SUFDdkUsSUFBQSxpQkFBTyxFQUFDLEVBQUUsSUFBSSxFQUFFLDhDQUFvQixFQUFFLENBQUM7SUFDdkMsSUFBQSxxQkFBa0IsRUFBQztRQUNsQixNQUFNLEVBQUUsR0FBRztRQUNYLFdBQVcsRUFBRSwyQkFBMkI7UUFDeEMsTUFBTSxFQUFFO1lBQ04sT0FBTyxFQUFFO2dCQUNQLE9BQU8sRUFBRSxJQUFJO2dCQUNiLElBQUksRUFBRTtvQkFDSixHQUFHLEVBQUUsMEJBQTBCO29CQUMvQixJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7b0JBQzVDLFFBQVEsRUFBRSxDQUFDO29CQUNYLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLGFBQWEsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLEVBQUU7b0JBQ3JGLFFBQVEsRUFBRSxDQUFDO2lCQUNaO2FBQ0Y7U0FDRjtLQUNGLENBQUM7SUFDRCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsQ0FBQztJQUNwRSxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFDaEUsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxDQUFDO0lBQzVDLFdBQUEsSUFBQSxhQUFJLEdBQUUsQ0FBQTs7cUNBQWdCLDhDQUFvQjs7b0RBRzNEO0FBd0JLO0lBdEJMLElBQUEsaUJBQU8sRUFBQyxlQUFlLENBQUM7SUFDeEIsSUFBQSxZQUFHLEVBQUMsT0FBTyxDQUFDO0lBQ1osSUFBQSx5QkFBTSxHQUFFO0lBQ1IsSUFBQSxzQkFBWSxFQUFDLEVBQUUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLENBQUM7SUFDbkQsSUFBQSxxQkFBa0IsRUFBQztRQUNsQixNQUFNLEVBQUUsR0FBRztRQUNYLFdBQVcsRUFBRSx1QkFBdUI7UUFDcEMsTUFBTSxFQUFFO1lBQ04sT0FBTyxFQUFFO2dCQUNQLE9BQU8sRUFBRSxJQUFJO2dCQUNiLElBQUksRUFBRTtvQkFDSjt3QkFDRSxHQUFHLEVBQUUsMEJBQTBCO3dCQUMvQixJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7d0JBQzVDLFFBQVEsRUFBRSxDQUFDO3dCQUNYLFFBQVEsRUFBRSxDQUFDO3dCQUNYLGVBQWUsRUFBRSxDQUFDO3FCQUNuQjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDOzs7O3NEQUlEO0FBWUs7SUFWTCxJQUFBLGlCQUFPLEVBQUMsZUFBZSxDQUFDO0lBQ3hCLElBQUEsWUFBRyxFQUFDLFdBQVcsQ0FBQztJQUNoQixJQUFBLHlCQUFNLEdBQUU7SUFDUixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsQ0FBQztJQUNuRCxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsQ0FBQztJQUNoRCxJQUFBLHFCQUFrQixFQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsV0FBVyxFQUFFLGNBQWM7S0FDNUIsQ0FBQztJQUNELElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDO0lBQ2hELFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7Ozs7cURBRzdCO0FBYUs7SUFYTCxJQUFBLGlCQUFPLEVBQUMsZUFBZSxDQUFDO0lBQ3hCLElBQUEsY0FBSyxFQUFDLGVBQWUsQ0FBQztJQUN0QixJQUFBLGtCQUFTLEVBQUMsNkJBQVksRUFBRSx3QkFBVSxDQUFDO0lBQ25DLElBQUEsdUJBQUssRUFBQyxxQkFBUSxDQUFDLFdBQVcsQ0FBQztJQUMzQixJQUFBLHVCQUFhLEVBQUMsVUFBVSxDQUFDO0lBQ3pCLElBQUEsc0JBQVksRUFBQyxFQUFFLE9BQU8sRUFBRSwwQ0FBMEMsRUFBRSxDQUFDO0lBQ3JFLElBQUEsaUJBQU8sRUFBQyxFQUFFLElBQUksRUFBRSxtQ0FBZSxFQUFFLENBQUM7SUFDbEMsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLDhCQUE4QixFQUFFLENBQUM7SUFDaEYsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixFQUFFLENBQUM7SUFDcEUsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2hFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsQ0FBQztJQUMxQyxXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O3FDQUFhLG1DQUFlOztzREFHckQ7QUFlSztJQWJMLElBQUEsaUJBQU8sRUFBQyxlQUFlLENBQUM7SUFDeEIsSUFBQSxjQUFLLEVBQUMsV0FBVyxDQUFDO0lBQ2xCLElBQUEsa0JBQVMsRUFBQyw2QkFBWSxFQUFFLHdCQUFVLENBQUM7SUFDbkMsSUFBQSx1QkFBSyxFQUFDLHFCQUFRLENBQUMsV0FBVyxDQUFDO0lBQzNCLElBQUEsdUJBQWEsRUFBQyxVQUFVLENBQUM7SUFDekIsSUFBQSxzQkFBWSxFQUFDLEVBQUUsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLENBQUM7SUFDbkUsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDaEQsSUFBQSxpQkFBTyxFQUFDLEVBQUUsSUFBSSxFQUFFLDhDQUFvQixFQUFFLENBQUM7SUFDdkMsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLDJCQUEyQixFQUFFLENBQUM7SUFDN0UsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixFQUFFLENBQUM7SUFDcEUsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2hFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsQ0FBQztJQUM3RCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQztJQUNqRCxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQWMsV0FBQSxJQUFBLGFBQUksR0FBRSxDQUFBOzs2Q0FBZ0IsOENBQW9COztvREFHcEY7QUFlSztJQWJMLElBQUEsaUJBQU8sRUFBQyxlQUFlLENBQUM7SUFDeEIsSUFBQSxlQUFNLEVBQUMsV0FBVyxDQUFDO0lBQ25CLElBQUEsa0JBQVMsRUFBQyw2QkFBWSxFQUFFLHdCQUFVLENBQUM7SUFDbkMsSUFBQSx1QkFBSyxFQUFDLHFCQUFRLENBQUMsV0FBVyxDQUFDO0lBQzNCLElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLFVBQVUsQ0FBQztJQUMvQixJQUFBLHVCQUFhLEVBQUMsVUFBVSxDQUFDO0lBQ3pCLElBQUEsc0JBQVksRUFBQyxFQUFFLE9BQU8sRUFBRSx3Q0FBd0MsRUFBRSxDQUFDO0lBQ25FLElBQUEsa0JBQVEsRUFBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxDQUFDO0lBQ2hELElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSwyQkFBMkIsRUFBRSxDQUFDO0lBQzdFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUNoRSxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDN0QsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLENBQUM7SUFDbEUsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLDJDQUEyQyxFQUFFLENBQUM7SUFDNUUsV0FBQSxJQUFBLGNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQTs7OztvREFFNUI7QUFtQ0s7SUE3QkwsSUFBQSxhQUFJLEdBQUU7SUFDTixJQUFBLGtCQUFTLEVBQUMsNkJBQVksRUFBRSx3QkFBVSxDQUFDO0lBQ25DLElBQUEsdUJBQUssRUFBQyxxQkFBUSxDQUFDLFdBQVcsRUFBRSxxQkFBUSxDQUFDLFFBQVEsQ0FBQztJQUM5QyxJQUFBLGlCQUFRLEVBQUMsbUJBQVUsQ0FBQyxPQUFPLENBQUM7SUFDNUIsSUFBQSx1QkFBYSxFQUFDLFVBQVUsQ0FBQztJQUN6QixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsMENBQTBDLEVBQUUsQ0FBQztJQUNyRSxJQUFBLGlCQUFPLEVBQUMsRUFBRSxJQUFJLEVBQUUscUNBQWdCLEVBQUUsQ0FBQztJQUNuQyxJQUFBLHFCQUFrQixFQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsV0FBVyxFQUFFLDhCQUE4QjtRQUMzQyxNQUFNLEVBQUU7WUFDTixPQUFPLEVBQUU7Z0JBQ1AsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsSUFBSSxFQUFFO29CQUNKLEdBQUcsRUFBRSwwQkFBMEI7b0JBQy9CLElBQUksRUFBRSxNQUFNO29CQUNaLFdBQVcsRUFBRSxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsRUFBRSxFQUFFLGdCQUFnQixFQUFFO29CQUM5RCxPQUFPLEVBQUUsMkNBQTJDO29CQUNwRCxPQUFPLEVBQUUsa0JBQWtCO29CQUMzQixJQUFJLEVBQUUsMEJBQTBCO29CQUNoQyxXQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsbUNBQW1DLEVBQUU7b0JBQzlELFdBQVcsRUFBRSxDQUFDO2lCQUNmO2FBQ0Y7U0FDRjtLQUNGLENBQUM7SUFDRCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsQ0FBQztJQUNwRSxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFDaEUsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLCtCQUErQixFQUFFLENBQUM7SUFDcEUsV0FBQSxJQUFBLGFBQUksR0FBRSxDQUFBOztxQ0FBbUIscUNBQWdCOztnREFHdEQ7QUErQ0s7SUE3Q0wsSUFBQSxZQUFHLEdBQUU7SUFDTCxJQUFBLHlCQUFNLEdBQUU7SUFDUixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsK0NBQStDLEVBQUUsQ0FBQztJQUMxRSxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDckUsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3ZFLElBQUEsa0JBQVEsRUFBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxDQUFDO0lBQy9GLElBQUEsa0JBQVEsRUFBQztRQUNSLElBQUksRUFBRSxRQUFRO1FBQ2QsUUFBUSxFQUFFLEtBQUs7UUFDZixJQUFJLEVBQUUsTUFBTTtRQUNaLFdBQVcsRUFBRSxnQ0FBZ0M7S0FDOUMsQ0FBQztJQUNELElBQUEsa0JBQVEsRUFBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0lBQzNGLElBQUEsa0JBQVEsRUFBQztRQUNSLElBQUksRUFBRSxVQUFVO1FBQ2hCLFFBQVEsRUFBRSxLQUFLO1FBQ2YsSUFBSSxFQUFFLE9BQU87UUFDYixXQUFXLEVBQUUsd0JBQXdCO0tBQ3RDLENBQUM7SUFDRCxJQUFBLHFCQUFrQixFQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsV0FBVyxFQUFFLGtDQUFrQztRQUMvQyxNQUFNLEVBQUU7WUFDTixPQUFPLEVBQUU7Z0JBQ1AsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsSUFBSSxFQUFFO29CQUNKO3dCQUNFLEdBQUcsRUFBRSwwQkFBMEI7d0JBQy9CLElBQUksRUFBRSxNQUFNO3dCQUNaLE9BQU8sRUFBRSwyQ0FBMkM7d0JBQ3BELElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSwwQkFBMEIsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUU7d0JBQ3ZFLFdBQVcsRUFBRSxDQUFDO3FCQUNmO2lCQUNGO2dCQUNELFFBQVEsRUFBRTtvQkFDUixLQUFLLEVBQUUsRUFBRTtvQkFDVCxJQUFJLEVBQUUsQ0FBQztvQkFDUCxLQUFLLEVBQUUsRUFBRTtvQkFDVCxVQUFVLEVBQUUsQ0FBQztvQkFDYixPQUFPLEVBQUUsSUFBSTtvQkFDYixPQUFPLEVBQUUsS0FBSztpQkFDZjthQUNGO1NBQ0Y7S0FDRixDQUFDO0lBQ2EsV0FBQSxJQUFBLGNBQUssR0FBRSxDQUFBOztxQ0FBWSxxQ0FBZ0I7O2lEQUdqRDtBQTJDSztJQXpDTCxJQUFBLFlBQUcsRUFBQyxRQUFRLENBQUM7SUFDYixJQUFBLHlCQUFNLEdBQUU7SUFDUixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsOENBQThDLEVBQUUsQ0FBQztJQUN6RSxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDckUsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3ZFLElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUsc0RBQXNEO1FBQ25FLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsSUFBSTtnQkFDYixJQUFJLEVBQUU7b0JBQ0o7d0JBQ0UsR0FBRyxFQUFFLDBCQUEwQjt3QkFDL0IsSUFBSSxFQUFFLE1BQU07d0JBQ1osSUFBSSxFQUFFLE1BQU07d0JBQ1osV0FBVyxFQUFFOzRCQUNYLE9BQU8sRUFBRSxnQ0FBZ0M7NEJBQ3pDLEVBQUUsRUFBRSwyQkFBMkI7eUJBQ2hDO3dCQUNELE9BQU8sRUFBRSwyQ0FBMkM7d0JBQ3BELElBQUksRUFBRSwwQkFBMEI7d0JBQ2hDLFdBQVcsRUFBRSxDQUFDO3dCQUNkLFVBQVUsRUFBRSxrQkFBa0I7d0JBQzlCLGFBQWEsRUFBRSxJQUFJO3dCQUNuQixZQUFZLEVBQUUsa0JBQWtCO3dCQUNoQyxXQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsbUNBQW1DLEVBQUU7d0JBQzlELElBQUksRUFBRSxDQUFDLFlBQVksRUFBRSxXQUFXLENBQUM7d0JBQ2pDLFNBQVMsRUFBRSxJQUFJO3FCQUNoQjtpQkFDRjtnQkFDRCxRQUFRLEVBQUU7b0JBQ1IsS0FBSyxFQUFFLEVBQUU7b0JBQ1QsSUFBSSxFQUFFLENBQUM7b0JBQ1AsS0FBSyxFQUFFLEVBQUU7b0JBQ1QsT0FBTyxFQUFFLElBQUk7b0JBQ2IsT0FBTyxFQUFFLEtBQUs7aUJBQ2Y7YUFDRjtTQUNGO0tBQ0YsQ0FBQztJQUN3QixXQUFBLElBQUEsY0FBSyxFQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQWlCLFdBQUEsSUFBQSxjQUFLLEVBQUMsT0FBTyxDQUFDLENBQUE7Ozs7NERBR3JFO0FBdURLO0lBckRMLElBQUEsWUFBRyxFQUFDLHdCQUF3QixDQUFDO0lBQzdCLElBQUEseUJBQU0sR0FBRTtJQUNSLElBQUEsc0JBQVksRUFBQyxFQUFFLE9BQU8sRUFBRSx5REFBeUQsRUFBRSxDQUFDO0lBQ3BGLElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUsOERBQThEO1FBQzNFLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsSUFBSTtnQkFDYixJQUFJLEVBQUU7b0JBQ0o7d0JBQ0UsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLDBCQUEwQixFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTt3QkFDcEUsUUFBUSxFQUFFOzRCQUNSO2dDQUNFLEdBQUcsRUFBRSwwQkFBMEI7Z0NBQy9CLElBQUksRUFBRSxNQUFNO2dDQUNaLElBQUksRUFBRSxNQUFNO2dDQUNaLFdBQVcsRUFBRTtvQ0FDWCxPQUFPLEVBQUUsZ0NBQWdDO29DQUN6QyxFQUFFLEVBQUUsMkJBQTJCO2lDQUNoQztnQ0FDRCxPQUFPLEVBQUUsMkNBQTJDO2dDQUNwRCxJQUFJLEVBQUUsMEJBQTBCO2dDQUNoQyxXQUFXLEVBQUUsQ0FBQztnQ0FDZCxVQUFVLEVBQUUsa0JBQWtCO2dDQUM5QixhQUFhLEVBQUUsSUFBSTtnQ0FDbkIsV0FBVyxFQUFFLEVBQUUsUUFBUSxFQUFFLG1DQUFtQyxFQUFFO2dDQUM5RCxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUM7Z0NBQ3BCLFNBQVMsRUFBRSxJQUFJOzZCQUNoQjt5QkFDRjtxQkFDRjtvQkFDRDt3QkFDRSxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsMEJBQTBCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO3dCQUNqRSxRQUFRLEVBQUU7NEJBQ1I7Z0NBQ0UsR0FBRyxFQUFFLDBCQUEwQjtnQ0FDL0IsSUFBSSxFQUFFLEtBQUs7Z0NBQ1gsSUFBSSxFQUFFLEtBQUs7Z0NBQ1gsV0FBVyxFQUFFLEVBQUUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLEVBQUUsRUFBRSxpQkFBaUIsRUFBRTtnQ0FDdEUsT0FBTyxFQUFFLDBDQUEwQztnQ0FDbkQsSUFBSSxFQUFFLDBCQUEwQjtnQ0FDaEMsV0FBVyxFQUFFLENBQUM7Z0NBQ2QsVUFBVSxFQUFFLHdCQUF3QjtnQ0FDcEMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDO2dDQUNmLFNBQVMsRUFBRSxJQUFJOzZCQUNoQjt5QkFDRjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDOzs7O2tFQUlEO0FBb0NLO0lBbENMLElBQUEsWUFBRyxFQUFDLGlCQUFpQixDQUFDO0lBQ3RCLElBQUEseUJBQU0sR0FBRTtJQUNSLElBQUEsc0JBQVksRUFBQyxFQUFFLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxDQUFDO0lBQ3pELElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUsMEJBQTBCO1FBQ3ZDLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsSUFBSTtnQkFDYixJQUFJLEVBQUU7b0JBQ0o7d0JBQ0UsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLDBCQUEwQixFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRTt3QkFDdkUsUUFBUSxFQUFFOzRCQUNSO2dDQUNFLEdBQUcsRUFBRSwwQkFBMEI7Z0NBQy9CLElBQUksRUFBRSxNQUFNO2dDQUNaLE9BQU8sRUFBRSwyQ0FBMkM7NkJBQ3JEO3lCQUNGO3FCQUNGO29CQUNEO3dCQUNFLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSwwQkFBMEIsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUU7d0JBQ3BFLFFBQVEsRUFBRTs0QkFDUjtnQ0FDRSxHQUFHLEVBQUUsMEJBQTBCO2dDQUMvQixJQUFJLEVBQUUsS0FBSztnQ0FDWCxPQUFPLEVBQUUsMENBQTBDOzZCQUNwRDt5QkFDRjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDOzs7OzJEQUlEO0FBaUNLO0lBL0JMLElBQUEsWUFBRyxFQUFDLFlBQVksQ0FBQztJQUNqQixJQUFBLHlCQUFNLEdBQUU7SUFDUixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsc0RBQXNELEVBQUUsQ0FBQztJQUNqRixJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLENBQUM7SUFDeEYsSUFBQSxxQkFBa0IsRUFBQztRQUNsQixNQUFNLEVBQUUsR0FBRztRQUNYLFdBQVcsRUFBRSw2Q0FBNkM7UUFDMUQsTUFBTSxFQUFFO1lBQ04sT0FBTyxFQUFFO2dCQUNQLE9BQU8sRUFBRSxJQUFJO2dCQUNiLElBQUksRUFBRTtvQkFDSixHQUFHLEVBQUUsMEJBQTBCO29CQUMvQixJQUFJLEVBQUUsTUFBTTtvQkFDWixJQUFJLEVBQUUsTUFBTTtvQkFDWixXQUFXLEVBQUU7d0JBQ1gsT0FBTyxFQUFFLGdDQUFnQzt3QkFDekMsRUFBRSxFQUFFLDJCQUEyQjtxQkFDaEM7b0JBQ0QsT0FBTyxFQUFFLDJDQUEyQztvQkFDcEQsSUFBSSxFQUFFLDBCQUEwQjtvQkFDaEMsV0FBVyxFQUFFLENBQUM7b0JBQ2QsVUFBVSxFQUFFLGtCQUFrQjtvQkFDOUIsYUFBYSxFQUFFLElBQUk7b0JBQ25CLFlBQVksRUFBRSxrQkFBa0I7b0JBQ2hDLFdBQVcsRUFBRSxFQUFFLFFBQVEsRUFBRSxtQ0FBbUMsRUFBRTtvQkFDOUQsSUFBSSxFQUFFLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQztpQkFDbEM7YUFDRjtTQUNGO0tBQ0YsQ0FBQztJQUNELElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxrQ0FBa0MsRUFBRSxDQUFDO0lBQ3hELFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7Ozs7K0RBR3ZDO0FBMkJLO0lBekJMLElBQUEsWUFBRyxFQUFDLEtBQUssQ0FBQztJQUNWLElBQUEseUJBQU0sR0FBRTtJQUNSLElBQUEsc0JBQVksRUFBQyxFQUFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0lBQzlDLElBQUEsa0JBQVEsRUFBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsQ0FBQztJQUN4RixJQUFBLHFCQUFrQixFQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsV0FBVyxFQUFFLGlCQUFpQjtRQUM5QixNQUFNLEVBQUU7WUFDTixPQUFPLEVBQUU7Z0JBQ1AsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsSUFBSSxFQUFFO29CQUNKLEdBQUcsRUFBRSwwQkFBMEI7b0JBQy9CLElBQUksRUFBRSxNQUFNO29CQUNaLFdBQVcsRUFBRSxFQUFFLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsc0JBQXNCLEVBQUU7b0JBQ2pGLE9BQU8sRUFBRSwyQ0FBMkM7b0JBQ3BELE9BQU8sRUFBRSxrQkFBa0I7b0JBQzNCLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSwwQkFBMEIsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFO29CQUMxRCxXQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsbUNBQW1DLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtvQkFDaEYsV0FBVyxFQUFFLElBQUk7b0JBQ2pCLGFBQWEsRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUU7aUJBQ3ZGO2FBQ0Y7U0FDRjtLQUNGLENBQUM7SUFDRCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztJQUN2RCxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksQ0FBQyxDQUFBOzs7O2lEQUd6QjtBQWlCSztJQWZMLElBQUEsY0FBSyxFQUFDLEtBQUssQ0FBQztJQUNaLElBQUEsa0JBQVMsRUFBQyw2QkFBWSxFQUFFLHdCQUFVLENBQUM7SUFDbkMsSUFBQSx1QkFBSyxFQUFDLHFCQUFRLENBQUMsV0FBVyxFQUFFLHFCQUFRLENBQUMsUUFBUSxDQUFDO0lBQzlDLElBQUEsdUJBQWEsRUFBQyxVQUFVLENBQUM7SUFDekIsSUFBQSxzQkFBWSxFQUFDLEVBQUUsT0FBTyxFQUFFLHNDQUFzQyxFQUFFLENBQUM7SUFDakUsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLENBQUM7SUFDbkQsSUFBQSxpQkFBTyxFQUFDLEVBQUUsSUFBSSxFQUFFLHFDQUFnQixFQUFFLENBQUM7SUFDbkMsSUFBQSxxQkFBa0IsRUFBQztRQUNsQixNQUFNLEVBQUUsR0FBRztRQUNYLFdBQVcsRUFBRSw4QkFBOEI7S0FDNUMsQ0FBQztJQUNELElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxDQUFDO0lBQ3BFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUNoRSxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDN0QsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLENBQUM7SUFDeEQsV0FBQSxJQUFBLGNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQTtJQUFjLFdBQUEsSUFBQSxhQUFJLEdBQUUsQ0FBQTs7NkNBQW1CLHFDQUFnQjs7Z0RBRy9FO0FBY0s7SUFaTCxJQUFBLGVBQU0sRUFBQyxLQUFLLENBQUM7SUFDYixJQUFBLGtCQUFTLEVBQUMsNkJBQVksRUFBRSx3QkFBVSxDQUFDO0lBQ25DLElBQUEsdUJBQUssRUFBQyxxQkFBUSxDQUFDLFdBQVcsQ0FBQztJQUMzQixJQUFBLGlCQUFRLEVBQUMsbUJBQVUsQ0FBQyxVQUFVLENBQUM7SUFDL0IsSUFBQSx1QkFBYSxFQUFDLFVBQVUsQ0FBQztJQUN6QixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsd0NBQXdDLEVBQUUsQ0FBQztJQUNuRSxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsQ0FBQztJQUNuRCxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLENBQUM7SUFDakYsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLDhCQUE4QixFQUFFLENBQUM7SUFDaEYsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2hFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsQ0FBQztJQUM3RCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztJQUN4RCxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQWMsV0FBQSxJQUFBLFlBQUcsR0FBRSxDQUFBO0lBQWdCLFdBQUEsSUFBQSxjQUFLLEVBQUMsUUFBUSxDQUFDLENBQUE7Ozs7Z0RBRzFFO0FBZUs7SUFiTCxJQUFBLGFBQUksRUFBQyxhQUFhLENBQUM7SUFDbkIsSUFBQSxrQkFBUyxFQUFDLDZCQUFZLEVBQUUsd0JBQVUsQ0FBQztJQUNuQyxJQUFBLHVCQUFLLEVBQUMscUJBQVEsQ0FBQyxXQUFXLENBQUM7SUFDM0IsSUFBQSx1QkFBYSxFQUFDLFVBQVUsQ0FBQztJQUN6QixJQUFBLHNCQUFZLEVBQUMsRUFBRSxPQUFPLEVBQUUsaURBQWlELEVBQUUsQ0FBQztJQUM1RSxJQUFBLGtCQUFRLEVBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsQ0FBQztJQUNuRCxJQUFBLHFCQUFrQixFQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsV0FBVyxFQUFFLCtCQUErQjtLQUM3QyxDQUFDO0lBQ0QsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2hFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsQ0FBQztJQUM3RCxJQUFBLHFCQUFrQixFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztJQUN2RCxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksQ0FBQyxDQUFBOzs7O2lEQUd6QjtBQTBESztJQXhETCxJQUFBLGFBQUksRUFBQyxpQkFBaUIsQ0FBQztJQUN2QixJQUFBLGtCQUFTLEVBQUMsNkJBQVksRUFBRSx3QkFBVSxDQUFDO0lBQ25DLElBQUEsdUJBQUssRUFBQyxxQkFBUSxDQUFDLFdBQVcsRUFBRSxxQkFBUSxDQUFDLFFBQVEsQ0FBQztJQUM5QyxJQUFBLHdCQUFlLEVBQUMsSUFBQSxrQ0FBZSxFQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLElBQUEsb0JBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUM7SUFDL0MsSUFBQSx1QkFBYSxFQUFDLFVBQVUsQ0FBQztJQUN6QixJQUFBLHFCQUFXLEVBQUMscUJBQXFCLENBQUM7SUFDbEMsSUFBQSxzQkFBWSxFQUFDLEVBQUUsT0FBTyxFQUFFLDJDQUEyQyxFQUFFLENBQUM7SUFDdEUsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxDQUFDO0lBQ3hGLElBQUEsaUJBQU8sRUFBQztRQUNQLE1BQU0sRUFBRTtZQUNOLElBQUksRUFBRSxRQUFRO1lBQ2QsVUFBVSxFQUFFO2dCQUNWLElBQUksRUFBRTtvQkFDSixJQUFJLEVBQUUsUUFBUTtvQkFDZCxNQUFNLEVBQUUsUUFBUTtvQkFDaEIsV0FBVyxFQUFFLDRDQUE0QztpQkFDMUQ7YUFDRjtTQUNGO0tBQ0YsQ0FBQztJQUNELElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUsNEJBQTRCO1FBQ3pDLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsSUFBSTtnQkFDYixJQUFJLEVBQUU7b0JBQ0osT0FBTyxFQUFFLDRFQUE0RTtpQkFDdEY7YUFDRjtTQUNGO0tBQ0YsQ0FBQztJQUNELElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUsOENBQThDO1FBQzNELE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsS0FBSztnQkFDZCxLQUFLLEVBQUUsNERBQTREO2FBQ3BFO1NBQ0Y7S0FDRixDQUFDO0lBQ0QsSUFBQSxxQkFBa0IsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2hFLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSwrQkFBK0IsRUFBRSxDQUFDO0lBQ2pGLElBQUEscUJBQWtCLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0lBQ3JFLElBQUEscUJBQWtCLEVBQUM7UUFDbEIsTUFBTSxFQUFFLEdBQUc7UUFDWCxXQUFXLEVBQUUscUJBQXFCO1FBQ2xDLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRTtnQkFDUCxPQUFPLEVBQUUsS0FBSztnQkFDZCxLQUFLLEVBQUUscURBQXFEO2FBQzdEO1NBQ0Y7S0FDRixDQUFDO0lBQ2dCLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFBYyxXQUFBLElBQUEscUJBQVksR0FBRSxDQUFBOzs7O29EQU94RDs2QkFuaUJVLGtCQUFrQjtJQUY5QixJQUFBLGlCQUFPLEVBQUMsVUFBVSxDQUFDO0lBQ25CLElBQUEsbUJBQVUsRUFBQyxVQUFVLENBQUM7cUNBRXlCLGtDQUFlO0dBRGxELGtCQUFrQixDQW9pQjlCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2x1aXNuZXRvOTgvRG9jdW1lbnRvcy9Db2RlL21vbm9yZXBvLXZ0ZXgvYXBwcy9hcGkvc3JjL21vZHVsZXMvc3BvbnNvcnMvc3BvbnNvcnMuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb250cm9sbGVyLFxuICBHZXQsXG4gIFBvc3QsXG4gIEJvZHksXG4gIFBhdGNoLFxuICBQYXJhbSxcbiAgRGVsZXRlLFxuICBVc2VHdWFyZHMsXG4gIFF1ZXJ5LFxuICBIdHRwQ29kZSxcbiAgSHR0cFN0YXR1cyxcbiAgUmVxLFxuICBVc2VJbnRlcmNlcHRvcnMsXG4gIFVwbG9hZGVkRmlsZSxcbiAgQmFkUmVxdWVzdEV4Y2VwdGlvbixcbn0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgRmlsZUludGVyY2VwdG9yIH0gZnJvbSAnQG5lc3Rqcy9wbGF0Zm9ybS1leHByZXNzJztcbmltcG9ydCB7IFRocm90dGxlIH0gZnJvbSAnQG5lc3Rqcy90aHJvdHRsZXInO1xuaW1wb3J0IHtcbiAgQXBpVGFncyxcbiAgQXBpT3BlcmF0aW9uLFxuICBBcGlSZXNwb25zZSBhcyBTd2FnZ2VyQXBpUmVzcG9uc2UsXG4gIEFwaUJlYXJlckF1dGgsXG4gIEFwaVBhcmFtLFxuICBBcGlRdWVyeSxcbiAgQXBpQm9keSxcbiAgQXBpQ29uc3VtZXMsXG59IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XG5pbXBvcnQgeyBTcG9uc29yc1NlcnZpY2UgfSBmcm9tICcuL3Nwb25zb3JzLnNlcnZpY2UnO1xuaW1wb3J0IHsgSnd0QXV0aEd1YXJkIH0gZnJvbSAnQGNvbW1vbi9ndWFyZHMvand0LWF1dGguZ3VhcmQnO1xuaW1wb3J0IHsgUm9sZXNHdWFyZCB9IGZyb20gJ0Bjb21tb24vZ3VhcmRzL3JvbGVzLmd1YXJkJztcbmltcG9ydCB7IFJvbGVzIH0gZnJvbSAnQGNvbW1vbi9kZWNvcmF0b3JzL3JvbGVzLmRlY29yYXRvcic7XG5pbXBvcnQgeyBVc2VyUm9sZSB9IGZyb20gJ0BzaGFyZWQvdHlwZXMvdXNlci50eXBlcyc7XG5pbXBvcnQgeyBQdWJsaWMgfSBmcm9tICdAY29tbW9uL2RlY29yYXRvcnMvcHVibGljLmRlY29yYXRvcic7XG5pbXBvcnQgeyBDcmVhdGVTcG9uc29yRHRvIH0gZnJvbSAnLi9kdG8vY3JlYXRlLXNwb25zb3IuZHRvJztcbmltcG9ydCB7IFVwZGF0ZVNwb25zb3JEdG8gfSBmcm9tICcuL2R0by91cGRhdGUtc3BvbnNvci5kdG8nO1xuaW1wb3J0IHsgU3BvbnNvckZpbHRlckR0byB9IGZyb20gJy4vZHRvL3Nwb25zb3ItZmlsdGVyLmR0byc7XG5pbXBvcnQgeyBDcmVhdGVTcG9uc29yVGllckR0byB9IGZyb20gJy4vZHRvL2NyZWF0ZS1zcG9uc29yLXRpZXIuZHRvJztcbmltcG9ydCB7IFVwZGF0ZVNwb25zb3JUaWVyRHRvIH0gZnJvbSAnLi9kdG8vdXBkYXRlLXNwb25zb3ItdGllci5kdG8nO1xuaW1wb3J0IHsgUmVvcmRlclRpZXJzRHRvIH0gZnJvbSAnLi9kdG8vcmVvcmRlci10aWVycy5kdG8nO1xuaW1wb3J0IHsgQXBpUmVzcG9uc2UgfSBmcm9tICdAY29tbW9uL2R0by9hcGktcmVzcG9uc2UuZHRvJztcbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICdleHByZXNzJztcblxuQEFwaVRhZ3MoJ1Nwb25zb3JzJylcbkBDb250cm9sbGVyKCdzcG9uc29ycycpXG5leHBvcnQgY2xhc3MgU3BvbnNvcnNDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBzcG9uc29yc1NlcnZpY2U6IFNwb25zb3JzU2VydmljZSkge31cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1BPTlNPUiBUSUVSIEVORFBPSU5UUyAobXVzdCBjb21lIGJlZm9yZSA6aWQgcm91dGVzKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBAQXBpVGFncygnU3BvbnNvciBUaWVycycpXG4gIEBQb3N0KCd0aWVycycpXG4gIEBVc2VHdWFyZHMoSnd0QXV0aEd1YXJkLCBSb2xlc0d1YXJkKVxuICBAUm9sZXMoVXNlclJvbGUuU1VQRVJfQURNSU4pXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLkNSRUFURUQpXG4gIEBBcGlCZWFyZXJBdXRoKCdKV1QtYXV0aCcpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnQ3JlYXRlIG5ldyBzcG9uc29yIHRpZXIgKFN1cGVyIEFkbWluIG9ubHkpJyB9KVxuICBAQXBpQm9keSh7IHR5cGU6IENyZWF0ZVNwb25zb3JUaWVyRHRvIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAxLFxuICAgIGRlc2NyaXB0aW9uOiAnVGllciBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgc2NoZW1hOiB7XG4gICAgICBleGFtcGxlOiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBfaWQ6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTInLFxuICAgICAgICAgIG5hbWU6IHsgJ3B0LUJSJzogJ0RpYW1hbnRlJywgZW46ICdEaWFtb25kJyB9LFxuICAgICAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgICAgIGJlbmVmaXRzOiB7ICdwdC1CUic6IFsnQmVuZWbDrWNpbyAxJywgJ0JlbmVmw61jaW8gMiddLCBlbjogWydCZW5lZml0IDEnLCAnQmVuZWZpdCAyJ10gfSxcbiAgICAgICAgICBtYXhTbG90czogMyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAwLCBkZXNjcmlwdGlvbjogJ1ZhbGlkYXRpb24gZXJyb3InIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMywgZGVzY3JpcHRpb246ICdGb3JiaWRkZW4nIH0pXG4gIGFzeW5jIGNyZWF0ZVRpZXIoQEJvZHkoKSBjcmVhdGVUaWVyRHRvOiBDcmVhdGVTcG9uc29yVGllckR0bykge1xuICAgIGNvbnN0IHRpZXIgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5jcmVhdGVUaWVyKGNyZWF0ZVRpZXJEdG8pO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHRpZXIpO1xuICB9XG5cbiAgQEFwaVRhZ3MoJ1Nwb25zb3IgVGllcnMnKVxuICBAR2V0KCd0aWVycycpXG4gIEBQdWJsaWMoKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ0xpc3QgYWxsIHNwb25zb3IgdGllcnMnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnTGlzdCBvZiBzcG9uc29yIHRpZXJzJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIGV4YW1wbGU6IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMicsXG4gICAgICAgICAgICBuYW1lOiB7ICdwdC1CUic6ICdEaWFtYW50ZScsIGVuOiAnRGlhbW9uZCcgfSxcbiAgICAgICAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgICAgICAgbWF4U2xvdHM6IDMsXG4gICAgICAgICAgICBjdXJyZW50U3BvbnNvcnM6IDIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgYXN5bmMgZmluZEFsbFRpZXJzKCkge1xuICAgIGNvbnN0IHRpZXJzID0gYXdhaXQgdGhpcy5zcG9uc29yc1NlcnZpY2UuZmluZEFsbFRpZXJzKCk7XG4gICAgcmV0dXJuIEFwaVJlc3BvbnNlLnN1Y2Nlc3ModGllcnMpO1xuICB9XG5cbiAgQEFwaVRhZ3MoJ1Nwb25zb3IgVGllcnMnKVxuICBAR2V0KCd0aWVycy86aWQnKVxuICBAUHVibGljKClcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdHZXQgc3BvbnNvciB0aWVyIGJ5IElEJyB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnaWQnLCBkZXNjcmlwdGlvbjogJ1RpZXIgSUQnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnVGllciBkZXRhaWxzJyxcbiAgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDA0LCBkZXNjcmlwdGlvbjogJ1RpZXIgbm90IGZvdW5kJyB9KVxuICBhc3luYyBmaW5kT25lVGllcihAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRpZXIgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kVGllckJ5SWQoaWQpO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHRpZXIpO1xuICB9XG5cbiAgQEFwaVRhZ3MoJ1Nwb25zb3IgVGllcnMnKVxuICBAUGF0Y2goJ3RpZXJzL3Jlb3JkZXInKVxuICBAVXNlR3VhcmRzKEp3dEF1dGhHdWFyZCwgUm9sZXNHdWFyZClcbiAgQFJvbGVzKFVzZXJSb2xlLlNVUEVSX0FETUlOKVxuICBAQXBpQmVhcmVyQXV0aCgnSldULWF1dGgnKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ1Jlb3JkZXIgc3BvbnNvciB0aWVycyAoU3VwZXIgQWRtaW4gb25seSknIH0pXG4gIEBBcGlCb2R5KHsgdHlwZTogUmVvcmRlclRpZXJzRHRvIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwMCwgZGVzY3JpcHRpb246ICdUaWVycyByZW9yZGVyZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDAsIGRlc2NyaXB0aW9uOiAnVmFsaWRhdGlvbiBlcnJvcicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAzLCBkZXNjcmlwdGlvbjogJ0ZvcmJpZGRlbicgfSlcbiAgYXN5bmMgcmVvcmRlclRpZXJzKEBCb2R5KCkgcmVvcmRlckR0bzogUmVvcmRlclRpZXJzRHRvKSB7XG4gICAgYXdhaXQgdGhpcy5zcG9uc29yc1NlcnZpY2UucmVvcmRlclRpZXJzKHJlb3JkZXJEdG8udGllcklkcyk7XG4gICAgcmV0dXJuIEFwaVJlc3BvbnNlLnN1Y2Nlc3MoeyBtZXNzYWdlOiAnVGllcnMgcmVvcmRlcmVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gIH1cblxuICBAQXBpVGFncygnU3BvbnNvciBUaWVycycpXG4gIEBQYXRjaCgndGllcnMvOmlkJylcbiAgQFVzZUd1YXJkcyhKd3RBdXRoR3VhcmQsIFJvbGVzR3VhcmQpXG4gIEBSb2xlcyhVc2VyUm9sZS5TVVBFUl9BRE1JTilcbiAgQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdVcGRhdGUgc3BvbnNvciB0aWVyIChTdXBlciBBZG1pbiBvbmx5KScgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgZGVzY3JpcHRpb246ICdUaWVyIElEJyB9KVxuICBAQXBpQm9keSh7IHR5cGU6IFVwZGF0ZVNwb25zb3JUaWVyRHRvIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwMCwgZGVzY3JpcHRpb246ICdUaWVyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDAsIGRlc2NyaXB0aW9uOiAnVmFsaWRhdGlvbiBlcnJvcicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAzLCBkZXNjcmlwdGlvbjogJ0ZvcmJpZGRlbicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDA0LCBkZXNjcmlwdGlvbjogJ1RpZXIgbm90IGZvdW5kJyB9KVxuICBhc3luYyB1cGRhdGVUaWVyKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nLCBAQm9keSgpIHVwZGF0ZVRpZXJEdG86IFVwZGF0ZVNwb25zb3JUaWVyRHRvKSB7XG4gICAgY29uc3QgdGllciA9IGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLnVwZGF0ZVRpZXIoaWQsIHVwZGF0ZVRpZXJEdG8pO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHRpZXIpO1xuICB9XG5cbiAgQEFwaVRhZ3MoJ1Nwb25zb3IgVGllcnMnKVxuICBARGVsZXRlKCd0aWVycy86aWQnKVxuICBAVXNlR3VhcmRzKEp3dEF1dGhHdWFyZCwgUm9sZXNHdWFyZClcbiAgQFJvbGVzKFVzZXJSb2xlLlNVUEVSX0FETUlOKVxuICBASHR0cENvZGUoSHR0cFN0YXR1cy5OT19DT05URU5UKVxuICBAQXBpQmVhcmVyQXV0aCgnSldULWF1dGgnKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ0RlbGV0ZSBzcG9uc29yIHRpZXIgKFN1cGVyIEFkbWluIG9ubHkpJyB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnaWQnLCBkZXNjcmlwdGlvbjogJ1RpZXIgSUQnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwNCwgZGVzY3JpcHRpb246ICdUaWVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnRm9yYmlkZGVuJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDQsIGRlc2NyaXB0aW9uOiAnVGllciBub3QgZm91bmQnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwOSwgZGVzY3JpcHRpb246ICdDYW5ub3QgZGVsZXRlIHRpZXIgd2l0aCBleGlzdGluZyBzcG9uc29ycycgfSlcbiAgYXN5bmMgcmVtb3ZlVGllcihAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLnJlbW92ZVRpZXIoaWQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNQT05TT1IgRU5EUE9JTlRTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIEBQb3N0KClcbiAgQFVzZUd1YXJkcyhKd3RBdXRoR3VhcmQsIFJvbGVzR3VhcmQpXG4gIEBSb2xlcyhVc2VyUm9sZS5TVVBFUl9BRE1JTiwgVXNlclJvbGUuUFJPRFVDRVIpXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLkNSRUFURUQpXG4gIEBBcGlCZWFyZXJBdXRoKCdKV1QtYXV0aCcpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnQ3JlYXRlIG5ldyBzcG9uc29yIChBZG1pbi9Qcm9kdWNlciBvbmx5KScgfSlcbiAgQEFwaUJvZHkoeyB0eXBlOiBDcmVhdGVTcG9uc29yRHRvIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAxLFxuICAgIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgc2NoZW1hOiB7XG4gICAgICBleGFtcGxlOiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBfaWQ6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTEnLFxuICAgICAgICAgIG5hbWU6ICdWVEVYJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogeyAncHQtQlInOiAnRGVzY3Jpw6fDo28uLi4nLCBlbjogJ0Rlc2NyaXB0aW9uLi4uJyB9LFxuICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy92dGV4LnBuZycsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vdnRleC5jb20nLFxuICAgICAgICAgIHRpZXI6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTInLFxuICAgICAgICAgIHNvY2lhbExpbmtzOiB7IGxpbmtlZGluOiAnaHR0cHM6Ly9saW5rZWRpbi5jb20vY29tcGFueS92dGV4JyB9LFxuICAgICAgICAgIG9yZGVySW5UaWVyOiAxLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDAsIGRlc2NyaXB0aW9uOiAnVmFsaWRhdGlvbiBlcnJvcicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAzLCBkZXNjcmlwdGlvbjogJ0ZvcmJpZGRlbiAtIGluc3VmZmljaWVudCByb2xlJyB9KVxuICBhc3luYyBjcmVhdGUoQEJvZHkoKSBjcmVhdGVTcG9uc29yRHRvOiBDcmVhdGVTcG9uc29yRHRvKSB7XG4gICAgY29uc3Qgc3BvbnNvciA9IGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLmNyZWF0ZVNwb25zb3IoY3JlYXRlU3BvbnNvckR0byk7XG4gICAgcmV0dXJuIEFwaVJlc3BvbnNlLnN1Y2Nlc3Moc3BvbnNvcik7XG4gIH1cblxuICBAR2V0KClcbiAgQFB1YmxpYygpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnTGlzdCBhbGwgc3BvbnNvcnMgd2l0aCBmaWx0ZXJzIGFuZCBwYWdpbmF0aW9uJyB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAncGFnZScsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyLCBleGFtcGxlOiAxIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICdsaW1pdCcsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyLCBleGFtcGxlOiAyMCB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAnc29ydCcsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogU3RyaW5nLCBleGFtcGxlOiAndGllci5wcmlvcml0eSxvcmRlckluVGllcicgfSlcbiAgQEFwaVF1ZXJ5KHtcbiAgICBuYW1lOiAnc2VhcmNoJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiAnU2VhcmNoIGluIG5hbWUgYW5kIGRlc2NyaXB0aW9uJyxcbiAgfSlcbiAgQEFwaVF1ZXJ5KHsgbmFtZTogJ3RpZXInLCByZXF1aXJlZDogZmFsc2UsIHR5cGU6IFN0cmluZywgZGVzY3JpcHRpb246ICdGaWx0ZXIgYnkgdGllciBJRCcgfSlcbiAgQEFwaVF1ZXJ5KHtcbiAgICBuYW1lOiAnaXNBY3RpdmUnLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlc2NyaXB0aW9uOiAnRmlsdGVyIGFjdGl2ZSBzcG9uc29ycycsXG4gIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnTGlzdCBvZiBzcG9uc29ycyB3aXRoIHBhZ2luYXRpb24nLFxuICAgIHNjaGVtYToge1xuICAgICAgZXhhbXBsZToge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgX2lkOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDExJyxcbiAgICAgICAgICAgIG5hbWU6ICdWVEVYJyxcbiAgICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy92dGV4LnBuZycsXG4gICAgICAgICAgICB0aWVyOiB7IF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMicsIG5hbWU6ICdEaWFtb25kJywgcHJpb3JpdHk6IDEgfSxcbiAgICAgICAgICAgIG9yZGVySW5UaWVyOiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgdG90YWw6IDI1LFxuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgbGltaXQ6IDIwLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IDIsXG4gICAgICAgICAgaGFzTmV4dDogdHJ1ZSxcbiAgICAgICAgICBoYXNQcmV2OiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgYXN5bmMgZmluZEFsbChAUXVlcnkoKSBmaWx0ZXJEdG86IFNwb25zb3JGaWx0ZXJEdG8pIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kQWxsU3BvbnNvcnMoZmlsdGVyRHRvKTtcbiAgICByZXR1cm4gQXBpUmVzcG9uc2Uuc3VjY2VzcyhyZXN1bHQuZGF0YSwgcmVzdWx0Lm1ldGFkYXRhKTtcbiAgfVxuXG4gIEBHZXQoJ3B1YmxpYycpXG4gIEBQdWJsaWMoKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ0xpc3QgYWxsIHZpc2libGUgc3BvbnNvcnMgZm9yIHB1YmxpYyBkaXNwbGF5JyB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAncGFnZScsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyLCBleGFtcGxlOiAxIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICdsaW1pdCcsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyLCBleGFtcGxlOiAyMCB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBkZXNjcmlwdGlvbjogJ0xpc3Qgb2YgdmlzaWJsZSBzcG9uc29ycyAoZXhjbHVkZXMgc2Vuc2l0aXZlIGZpZWxkcyknLFxuICAgIHNjaGVtYToge1xuICAgICAgZXhhbXBsZToge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgX2lkOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDExJyxcbiAgICAgICAgICAgIG5hbWU6ICdWVEVYJyxcbiAgICAgICAgICAgIHNsdWc6ICd2dGV4JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICdwdC1CUic6ICdQbGF0YWZvcm1hIGRlIGNvbcOpcmNpbyBkaWdpdGFsJyxcbiAgICAgICAgICAgICAgZW46ICdEaWdpdGFsIGNvbW1lcmNlIHBsYXRmb3JtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb2dvVXJsOiAnaHR0cHM6Ly9jZG4udnRleGRheS5jb20vc3BvbnNvcnMvdnRleC5wbmcnLFxuICAgICAgICAgICAgdGllcjogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMicsXG4gICAgICAgICAgICBvcmRlckluVGllcjogMSxcbiAgICAgICAgICAgIHdlYnNpdGVVcmw6ICdodHRwczovL3Z0ZXguY29tJyxcbiAgICAgICAgICAgIHN0YW5kTG9jYXRpb246ICdBMScsXG4gICAgICAgICAgICBjb250YWN0RW1haWw6ICdjb250YWN0QHZ0ZXguY29tJyxcbiAgICAgICAgICAgIHNvY2lhbExpbmtzOiB7IGxpbmtlZGluOiAnaHR0cHM6Ly9saW5rZWRpbi5jb20vY29tcGFueS92dGV4JyB9LFxuICAgICAgICAgICAgdGFnczogWyd0ZWNobm9sb2d5JywgJ2Vjb21tZXJjZSddLFxuICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgdG90YWw6IDI1LFxuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgbGltaXQ6IDIwLFxuICAgICAgICAgIGhhc05leHQ6IHRydWUsXG4gICAgICAgICAgaGFzUHJldjogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG4gIGFzeW5jIGZpbmRQdWJsaWNTcG9uc29ycyhAUXVlcnkoJ3BhZ2UnKSBwYWdlPzogbnVtYmVyLCBAUXVlcnkoJ2xpbWl0JykgbGltaXQ/OiBudW1iZXIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kUHVibGljU3BvbnNvcnMocGFnZSwgbGltaXQpO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHJlc3VsdC5kYXRhLCByZXN1bHQubWV0YWRhdGEpO1xuICB9XG5cbiAgQEdldCgncHVibGljL2dyb3VwZWQtYnktdGllcicpXG4gIEBQdWJsaWMoKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ0dldCB2aXNpYmxlIHNwb25zb3JzIGdyb3VwZWQgYnkgdGllciBmb3IgcHVibGljIGRpc3BsYXknIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnVmlzaWJsZSBzcG9uc29ycyBncm91cGVkIGJ5IHRpZXIgKGV4Y2x1ZGVzIHNlbnNpdGl2ZSBmaWVsZHMpJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIGV4YW1wbGU6IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpZXI6IHsgX2lkOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDEyJywgbmFtZTogJ0RpYW1vbmQnLCBvcmRlcjogMSB9LFxuICAgICAgICAgICAgc3BvbnNvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMScsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1ZURVgnLFxuICAgICAgICAgICAgICAgIHNsdWc6ICd2dGV4JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgJ3B0LUJSJzogJ1BsYXRhZm9ybWEgZGUgY29tw6lyY2lvIGRpZ2l0YWwnLFxuICAgICAgICAgICAgICAgICAgZW46ICdEaWdpdGFsIGNvbW1lcmNlIHBsYXRmb3JtJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy92dGV4LnBuZycsXG4gICAgICAgICAgICAgICAgdGllcjogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMicsXG4gICAgICAgICAgICAgICAgb3JkZXJJblRpZXI6IDEsXG4gICAgICAgICAgICAgICAgd2Vic2l0ZVVybDogJ2h0dHBzOi8vdnRleC5jb20nLFxuICAgICAgICAgICAgICAgIHN0YW5kTG9jYXRpb246ICdBMScsXG4gICAgICAgICAgICAgICAgc29jaWFsTGlua3M6IHsgbGlua2VkaW46ICdodHRwczovL2xpbmtlZGluLmNvbS9jb21wYW55L3Z0ZXgnIH0sXG4gICAgICAgICAgICAgICAgdGFnczogWyd0ZWNobm9sb2d5J10sXG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpZXI6IHsgX2lkOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDEzJywgbmFtZTogJ0dvbGQnLCBvcmRlcjogMiB9LFxuICAgICAgICAgICAgc3BvbnNvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxNCcsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0FXUycsXG4gICAgICAgICAgICAgICAgc2x1ZzogJ2F3cycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHsgJ3B0LUJSJzogJ0NvbXB1dGHDp8OjbyBlbSBudXZlbScsIGVuOiAnQ2xvdWQgY29tcHV0aW5nJyB9LFxuICAgICAgICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy9hd3MucG5nJyxcbiAgICAgICAgICAgICAgICB0aWVyOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDEzJyxcbiAgICAgICAgICAgICAgICBvcmRlckluVGllcjogMSxcbiAgICAgICAgICAgICAgICB3ZWJzaXRlVXJsOiAnaHR0cHM6Ly9hd3MuYW1hem9uLmNvbScsXG4gICAgICAgICAgICAgICAgdGFnczogWydjbG91ZCddLFxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgYXN5bmMgZmluZFB1YmxpY1Nwb25zb3JzQnlUaWVyKCkge1xuICAgIGNvbnN0IHNwb25zb3JzID0gYXdhaXQgdGhpcy5zcG9uc29yc1NlcnZpY2UuZmluZFB1YmxpY1Nwb25zb3JzQnlUaWVyKCk7XG4gICAgcmV0dXJuIEFwaVJlc3BvbnNlLnN1Y2Nlc3Moc3BvbnNvcnMpO1xuICB9XG5cbiAgQEdldCgnZ3JvdXBlZC1ieS10aWVyJylcbiAgQFB1YmxpYygpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnR2V0IHNwb25zb3JzIGdyb3VwZWQgYnkgdGllcicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgZGVzY3JpcHRpb246ICdTcG9uc29ycyBncm91cGVkIGJ5IHRpZXInLFxuICAgIHNjaGVtYToge1xuICAgICAgZXhhbXBsZToge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGllcjogeyBfaWQ6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTInLCBuYW1lOiAnRGlhbW9uZCcsIHByaW9yaXR5OiAxIH0sXG4gICAgICAgICAgICBzcG9uc29yczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX2lkOiAnNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDExJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnVlRFWCcsXG4gICAgICAgICAgICAgICAgbG9nb1VybDogJ2h0dHBzOi8vY2RuLnZ0ZXhkYXkuY29tL3Nwb25zb3JzL3Z0ZXgucG5nJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aWVyOiB7IF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMycsIG5hbWU6ICdHb2xkJywgcHJpb3JpdHk6IDIgfSxcbiAgICAgICAgICAgIHNwb25zb3JzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfaWQ6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdBV1MnLFxuICAgICAgICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy9hd3MucG5nJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgYXN5bmMgZmluZEdyb3VwZWRCeVRpZXIoKSB7XG4gICAgY29uc3Qgc3BvbnNvcnMgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kU3BvbnNvcnNCeVRpZXIoKTtcbiAgICByZXR1cm4gQXBpUmVzcG9uc2Uuc3VjY2VzcyhzcG9uc29ycyk7XG4gIH1cblxuICBAR2V0KCdwdWJsaWMvOmlkJylcbiAgQFB1YmxpYygpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnR2V0IHZpc2libGUgc3BvbnNvciBkZXRhaWxzIGJ5IElEIGZvciBwdWJsaWMgZGlzcGxheScgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgZGVzY3JpcHRpb246ICdTcG9uc29yIElEJywgZXhhbXBsZTogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMScgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgZGVzY3JpcHRpb246ICdTcG9uc29yIGRldGFpbHMgKGV4Y2x1ZGVzIHNlbnNpdGl2ZSBmaWVsZHMpJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIGV4YW1wbGU6IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMScsXG4gICAgICAgICAgbmFtZTogJ1ZURVgnLFxuICAgICAgICAgIHNsdWc6ICd2dGV4JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgJ3B0LUJSJzogJ1BsYXRhZm9ybWEgZGUgY29tw6lyY2lvIGRpZ2l0YWwnLFxuICAgICAgICAgICAgZW46ICdEaWdpdGFsIGNvbW1lcmNlIHBsYXRmb3JtJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvZ29Vcmw6ICdodHRwczovL2Nkbi52dGV4ZGF5LmNvbS9zcG9uc29ycy92dGV4LnBuZycsXG4gICAgICAgICAgdGllcjogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMicsXG4gICAgICAgICAgb3JkZXJJblRpZXI6IDEsXG4gICAgICAgICAgd2Vic2l0ZVVybDogJ2h0dHBzOi8vdnRleC5jb20nLFxuICAgICAgICAgIHN0YW5kTG9jYXRpb246ICdBMScsXG4gICAgICAgICAgY29udGFjdEVtYWlsOiAnY29udGFjdEB2dGV4LmNvbScsXG4gICAgICAgICAgc29jaWFsTGlua3M6IHsgbGlua2VkaW46ICdodHRwczovL2xpbmtlZGluLmNvbS9jb21wYW55L3Z0ZXgnIH0sXG4gICAgICAgICAgdGFnczogWyd0ZWNobm9sb2d5JywgJ2Vjb21tZXJjZSddLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDQsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBub3QgZm91bmQgb3Igbm90IHZpc2libGUnIH0pXG4gIGFzeW5jIGZpbmRQdWJsaWNTcG9uc29yQnlJZChAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHNwb25zb3IgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kUHVibGljU3BvbnNvckJ5SWQoaWQpO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHNwb25zb3IpO1xuICB9XG5cbiAgQEdldCgnOmlkJylcbiAgQFB1YmxpYygpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnR2V0IHNwb25zb3IgYnkgSUQnIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBJRCcsIGV4YW1wbGU6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTEnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBkZXRhaWxzJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIGV4YW1wbGU6IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIF9pZDogJzUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMScsXG4gICAgICAgICAgbmFtZTogJ1ZURVgnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB7ICdwdC1CUic6ICdQbGF0YWZvcm1hIGRlIGNvbcOpcmNpby4uLicsIGVuOiAnQ29tbWVyY2UgcGxhdGZvcm0uLi4nIH0sXG4gICAgICAgICAgbG9nb1VybDogJ2h0dHBzOi8vY2RuLnZ0ZXhkYXkuY29tL3Nwb25zb3JzL3Z0ZXgucG5nJyxcbiAgICAgICAgICB3ZWJzaXRlOiAnaHR0cHM6Ly92dGV4LmNvbScsXG4gICAgICAgICAgdGllcjogeyBfaWQ6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTInLCBuYW1lOiAnRGlhbW9uZCcgfSxcbiAgICAgICAgICBzb2NpYWxMaW5rczogeyBsaW5rZWRpbjogJ2h0dHBzOi8vbGlua2VkaW4uY29tL2NvbXBhbnkvdnRleCcsIHR3aXR0ZXI6ICdAdnRleCcgfSxcbiAgICAgICAgICBib290aE51bWJlcjogJ0ExJyxcbiAgICAgICAgICBjb250YWN0UGVyc29uOiB7IG5hbWU6ICdKb8OjbyBTaWx2YScsIGVtYWlsOiAnam9hb0B2dGV4LmNvbScsIHBob25lOiAnKzU1MTE5OTk5OTk5OTknIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwNCwgZGVzY3JpcHRpb246ICdTcG9uc29yIG5vdCBmb3VuZCcgfSlcbiAgYXN5bmMgZmluZE9uZShAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHNwb25zb3IgPSBhd2FpdCB0aGlzLnNwb25zb3JzU2VydmljZS5maW5kU3BvbnNvckJ5SWQoaWQpO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHNwb25zb3IpO1xuICB9XG5cbiAgQFBhdGNoKCc6aWQnKVxuICBAVXNlR3VhcmRzKEp3dEF1dGhHdWFyZCwgUm9sZXNHdWFyZClcbiAgQFJvbGVzKFVzZXJSb2xlLlNVUEVSX0FETUlOLCBVc2VyUm9sZS5QUk9EVUNFUilcbiAgQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdVcGRhdGUgc3BvbnNvciAoQWRtaW4vUHJvZHVjZXIgb25seSknIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBJRCcgfSlcbiAgQEFwaUJvZHkoeyB0eXBlOiBVcGRhdGVTcG9uc29yRHRvIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnU3BvbnNvciB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMCwgZGVzY3JpcHRpb246ICdWYWxpZGF0aW9uIGVycm9yJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnRm9yYmlkZGVuJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDQsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBub3QgZm91bmQnIH0pXG4gIGFzeW5jIHVwZGF0ZShAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZywgQEJvZHkoKSB1cGRhdGVTcG9uc29yRHRvOiBVcGRhdGVTcG9uc29yRHRvKSB7XG4gICAgY29uc3Qgc3BvbnNvciA9IGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLnVwZGF0ZVNwb25zb3IoaWQsIHVwZGF0ZVNwb25zb3JEdG8pO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHNwb25zb3IpO1xuICB9XG5cbiAgQERlbGV0ZSgnOmlkJylcbiAgQFVzZUd1YXJkcyhKd3RBdXRoR3VhcmQsIFJvbGVzR3VhcmQpXG4gIEBSb2xlcyhVc2VyUm9sZS5TVVBFUl9BRE1JTilcbiAgQEh0dHBDb2RlKEh0dHBTdGF0dXMuTk9fQ09OVEVOVClcbiAgQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdTb2Z0IGRlbGV0ZSBzcG9uc29yIChTdXBlciBBZG1pbiBvbmx5KScgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgZGVzY3JpcHRpb246ICdTcG9uc29yIElEJyB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAncmVhc29uJywgcmVxdWlyZWQ6IGZhbHNlLCBkZXNjcmlwdGlvbjogJ1JlYXNvbiBmb3IgZGVsZXRpb24nIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwNCwgZGVzY3JpcHRpb246ICdTcG9uc29yIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnRm9yYmlkZGVuJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDQsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBub3QgZm91bmQnIH0pXG4gIGFzeW5jIHJlbW92ZShAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZywgQFJlcSgpIHJlcTogUmVxdWVzdCwgQFF1ZXJ5KCdyZWFzb24nKSByZWFzb24/OiBzdHJpbmcpIHtcbiAgICBjb25zdCB1c2VySWQgPSAocmVxIGFzIGFueSkudXNlcj8uaWQ7XG4gICAgYXdhaXQgdGhpcy5zcG9uc29yc1NlcnZpY2UucmVtb3ZlU3BvbnNvcihpZCwgcmVhc29uLCB1c2VySWQpO1xuICB9XG5cbiAgQFBvc3QoJzppZC9yZXN0b3JlJylcbiAgQFVzZUd1YXJkcyhKd3RBdXRoR3VhcmQsIFJvbGVzR3VhcmQpXG4gIEBSb2xlcyhVc2VyUm9sZS5TVVBFUl9BRE1JTilcbiAgQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdSZXN0b3JlIHNvZnQtZGVsZXRlZCBzcG9uc29yIChTdXBlciBBZG1pbiBvbmx5KScgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgZGVzY3JpcHRpb246ICdTcG9uc29yIElEJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBkZXNjcmlwdGlvbjogJ1Nwb25zb3IgcmVzdG9yZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDAzLCBkZXNjcmlwdGlvbjogJ0ZvcmJpZGRlbicgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7IHN0YXR1czogNDA0LCBkZXNjcmlwdGlvbjogJ1Nwb25zb3Igbm90IGZvdW5kJyB9KVxuICBhc3luYyByZXN0b3JlKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nKSB7XG4gICAgY29uc3Qgc3BvbnNvciA9IGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLnJlc3RvcmVTcG9uc29yKGlkKTtcbiAgICByZXR1cm4gQXBpUmVzcG9uc2Uuc3VjY2VzcyhzcG9uc29yKTtcbiAgfVxuXG4gIEBQb3N0KCc6aWQvdXBsb2FkLWxvZ28nKVxuICBAVXNlR3VhcmRzKEp3dEF1dGhHdWFyZCwgUm9sZXNHdWFyZClcbiAgQFJvbGVzKFVzZXJSb2xlLlNVUEVSX0FETUlOLCBVc2VyUm9sZS5QUk9EVUNFUilcbiAgQFVzZUludGVyY2VwdG9ycyhGaWxlSW50ZXJjZXB0b3IoJ2ZpbGUnKSlcbiAgQFRocm90dGxlKHsgZGVmYXVsdDogeyBsaW1pdDogNSwgdHRsOiA2MDAwMCB9IH0pXG4gIEBBcGlCZWFyZXJBdXRoKCdKV1QtYXV0aCcpXG4gIEBBcGlDb25zdW1lcygnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnVXBsb2FkIHNwb25zb3IgbG9nbyAoQWRtaW4vUHJvZHVjZXIgb25seSknIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIGRlc2NyaXB0aW9uOiAnU3BvbnNvciBJRCcsIGV4YW1wbGU6ICc1MDdmMWY3N2JjZjg2Y2Q3OTk0MzkwMTEnIH0pXG4gIEBBcGlCb2R5KHtcbiAgICBzY2hlbWE6IHtcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgZm9ybWF0OiAnYmluYXJ5JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Nwb25zb3IgbG9nbyAoSlBFRywgUE5HLCBvciBXZWJQLCBtYXggNU1CKScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIGRlc2NyaXB0aW9uOiAnTG9nbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLFxuICAgIHNjaGVtYToge1xuICAgICAgZXhhbXBsZToge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbG9nb1VybDogJ2h0dHBzOi8vYnVja2V0LnMzLnJlZ2lvbi5hbWF6b25hd3MuY29tL3Nwb25zb3ItbG9nb3MvMTIzNDU2Nzg5MC1hYmMxMjMuanBnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiA0MDAsXG4gICAgZGVzY3JpcHRpb246ICdJbnZhbGlkIGZpbGUgdHlwZSBvciBzaXplLCBvciB2aXJ1cyBkZXRlY3RlZCcsXG4gICAgc2NoZW1hOiB7XG4gICAgICBleGFtcGxlOiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ludmFsaWQgZmlsZSB0eXBlLiBPbmx5IEpQRUcsIFBORywgV0VCUCBmaWxlcyBhcmUgYWxsb3dlZC4nLFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuICBAU3dhZ2dlckFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnRm9yYmlkZGVuIC0gaW5zdWZmaWNpZW50IHJvbGUnIH0pXG4gIEBTd2FnZ2VyQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwNCwgZGVzY3JpcHRpb246ICdTcG9uc29yIG5vdCBmb3VuZCcgfSlcbiAgQFN3YWdnZXJBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiA0MjksXG4gICAgZGVzY3JpcHRpb246ICdSYXRlIGxpbWl0IGV4Y2VlZGVkJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIGV4YW1wbGU6IHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnVXBsb2FkIHJhdGUgbGltaXQgZXhjZWVkZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgYXN5bmMgdXBsb2FkTG9nbyhAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZywgQFVwbG9hZGVkRmlsZSgpIGZpbGU6IEV4cHJlc3MuTXVsdGVyLkZpbGUpIHtcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCdObyBmaWxlIHByb3ZpZGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbG9nb1VybCA9IGF3YWl0IHRoaXMuc3BvbnNvcnNTZXJ2aWNlLnVwbG9hZExvZ28oaWQsIGZpbGUpO1xuICAgIHJldHVybiBBcGlSZXNwb25zZS5zdWNjZXNzKHsgbG9nb1VybCB9KTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9