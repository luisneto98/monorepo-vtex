{"file":"/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/press-materials/schemas/download-log.schema.ts","mappings":";;;;;;;;;;;;AAAA,+CAA+D;AAC/D,uCAA6D;AAKtD,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,mBAAQ;IAEvC,UAAU,CAAiB;IAG3B,SAAS,CAAS;IAGlB,SAAS,CAAS;IAGlB,YAAY,CAAO;IAGnB,MAAM,CAAU;CACjB,CAAA;AAfY,kCAAW;AAEtB;IADC,IAAA,eAAI,EAAC,EAAE,IAAI,EAAE,gBAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;8BACtE,gBAAK,CAAC,QAAQ;+CAAC;AAG3B;IADC,IAAA,eAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CACP;AAGlB;IADC,IAAA,eAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CACP;AAGlB;IADC,IAAA,eAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;8BAC3B,IAAI;iDAAC;AAGnB;IADC,IAAA,eAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;2CACP;sBAdL,WAAW;IADvB,IAAA,iBAAM,EAAC,EAAE,UAAU,EAAE,eAAe,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;GAC9C,WAAW,CAevB;AAEY,QAAA,iBAAiB,GAAG,wBAAa,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;AAE3E,uCAAuC;AACvC,yBAAiB,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAC7D,yBAAiB,CAAC,KAAK,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC","names":[],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/press-materials/schemas/download-log.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document, HydratedDocument, Types } from 'mongoose';\n\nexport type DownloadLogDocument = HydratedDocument<DownloadLog>;\n\n@Schema({ collection: 'download_logs', timestamps: false })\nexport class DownloadLog extends Document {\n  @Prop({ type: Types.ObjectId, ref: 'PressMaterial', required: true, index: true })\n  materialId: Types.ObjectId;\n\n  @Prop({ required: true })\n  ipAddress: string;\n\n  @Prop({ required: true })\n  userAgent: string;\n\n  @Prop({ default: Date.now, index: true })\n  downloadedAt: Date;\n\n  @Prop({ type: String })\n  userId?: string;\n}\n\nexport const DownloadLogSchema = SchemaFactory.createForClass(DownloadLog);\n\n// Create indexes for analytics queries\nDownloadLogSchema.index({ materialId: 1, downloadedAt: -1 });\nDownloadLogSchema.index({ downloadedAt: -1 });\n"],"version":3}