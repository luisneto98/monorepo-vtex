{"version":3,"names":["core_1","cov_2cre83axv2","s","require","app_module_1","mongoose_1","bcrypt","__importStar","user_schema_1","user_types_1","bootstrap","f","app","NestFactory","createApplicationContext","AppModule","console","log","userModel","get","getModelToken","User","name","existingAdmin","findOne","email","b","hashedPassword","hash","adminUser","password","role","UserRole","SUPER_ADMIN","profile","phone","company","position","language","preferences","interests","notificationsEnabled","favoriteSessionIds","isActive","isValidated","save","error","process","exit","close"],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/seeds/seed.ts"],"sourcesContent":["import { NestFactory } from '@nestjs/core';\nimport { AppModule } from '../app.module';\nimport { getModelToken } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport * as bcrypt from 'bcrypt';\nimport { User, UserDocument } from '../modules/users/schemas/user.schema';\nimport { UserRole } from '@shared/types/user.types';\n\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(AppModule);\n\n  console.log('üå± Starting database seed...');\n\n  try {\n    // Get User model\n    const userModel = app.get<Model<UserDocument>>(getModelToken(User.name));\n\n    // Check if super admin already exists\n    const existingAdmin = await userModel.findOne({\n      email: 'admin@vtexday.com.br',\n    });\n\n    if (existingAdmin) {\n      console.log('‚úÖ Super admin already exists');\n    } else {\n      // Hash password\n      const hashedPassword = await bcrypt.hash('VtexDay2026@Admin', 10);\n\n      // Create super admin user\n      const adminUser = new userModel({\n        email: 'admin@vtexday.com.br',\n        password: hashedPassword,\n        role: UserRole.SUPER_ADMIN,\n        profile: {\n          name: 'Administrador VTEX Day',\n          phone: '+5511999999999',\n          company: 'VTEX',\n          position: 'System Administrator',\n          language: 'pt-BR',\n        },\n        preferences: {\n          interests: [],\n          notificationsEnabled: true,\n          favoriteSessionIds: [],\n        },\n        isActive: true,\n        isValidated: true,\n      });\n\n      await adminUser.save();\n      console.log('‚úÖ Super admin created successfully');\n      console.log('üìß Email: admin@vtexday.com.br');\n      console.log('üîë Password: VtexDay2026@Admin');\n    }\n\n    // You can add more seed data here for other entities\n    console.log('');\n    console.log('üéâ Seed completed successfully!');\n    console.log('');\n    console.log('üìù Login credentials:');\n    console.log('-------------------');\n    console.log('Email: admin@vtexday.com.br');\n    console.log('Password: VtexDay2026@Admin');\n    console.log('');\n  } catch (error) {\n    console.error('‚ùå Seed failed:', error);\n    process.exit(1);\n  } finally {\n    await app.close();\n    process.exit(0);\n  }\n}\n\nbootstrap();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}