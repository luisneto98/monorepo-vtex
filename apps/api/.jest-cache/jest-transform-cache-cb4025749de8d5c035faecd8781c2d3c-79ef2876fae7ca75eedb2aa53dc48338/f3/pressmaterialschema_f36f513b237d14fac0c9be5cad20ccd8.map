{"version":3,"names":["cov_cq1n11hq9","actualCoverage","mongoose_1","s","require","mongoose_2","PressMaterial","Document","type","title","description","fileUrl","thumbnailUrl","metadata","tags","status","accessLevel","downloadCount","uploadedBy","exports","__decorate","Prop","String","enum","required","index","pt","en","es","default","size","Number","format","width","height","duration","Schema","collection","timestamps","PressMaterialSchema","SchemaFactory","createForClass","createdAt"],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/press-materials/schemas/press-material.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document, HydratedDocument } from 'mongoose';\nimport {\n  PressMaterialType,\n  LocalizedString,\n  FileMetadata,\n  PublicationStatus,\n  AccessLevel,\n} from '@vtexday26/shared';\n\nexport type PressMaterialDocument = HydratedDocument<PressMaterial>;\n\n@Schema({ collection: 'press_materials', timestamps: true })\nexport class PressMaterial extends Document {\n  @Prop({\n    type: String,\n    enum: ['press_kit', 'logo_package', 'photo', 'video', 'presentation'],\n    required: true,\n    index: true,\n  })\n  type: PressMaterialType;\n\n  @Prop({\n    type: {\n      pt: { type: String, required: true },\n      en: { type: String, required: true },\n      es: { type: String, required: true },\n    },\n    required: true,\n  })\n  title: LocalizedString;\n\n  @Prop({\n    type: {\n      pt: { type: String, default: '' },\n      en: { type: String, default: '' },\n      es: { type: String, default: '' },\n    },\n  })\n  description: LocalizedString;\n\n  @Prop({ required: true })\n  fileUrl: string;\n\n  @Prop({ type: String })\n  thumbnailUrl?: string;\n\n  @Prop({\n    type: {\n      size: { type: Number, required: true },\n      format: { type: String, required: true },\n      width: { type: Number },\n      height: { type: Number },\n      duration: { type: Number },\n    },\n    required: true,\n  })\n  metadata: FileMetadata;\n\n  @Prop({ type: [String], index: true, default: [] })\n  tags: string[];\n\n  @Prop({\n    type: String,\n    enum: ['draft', 'published', 'archived'],\n    default: 'draft',\n    index: true,\n  })\n  status: PublicationStatus;\n\n  @Prop({\n    type: String,\n    enum: ['public', 'restricted'],\n    default: 'public',\n    index: true,\n  })\n  accessLevel: AccessLevel;\n\n  @Prop({ default: 0 })\n  downloadCount: number;\n\n  @Prop({ required: true })\n  uploadedBy: string;\n}\n\nexport const PressMaterialSchema = SchemaFactory.createForClass(PressMaterial);\n\n// Create compound indexes for better query performance\nPressMaterialSchema.index({ status: 1, accessLevel: 1, type: 1 });\nPressMaterialSchema.index({\n  'title.pt': 'text',\n  'title.en': 'text',\n  'title.es': 'text',\n  tags: 'text',\n});\nPressMaterialSchema.index({ createdAt: -1 });\nPressMaterialSchema.index({ downloadCount: -1 });\n"],"mappings":"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","ignoreList":[]}