{"version":3,"names":["cov_110rxjezrb","actualCoverage","common_1","s","require","sanitization_util_1","ContentSanitizationService","sanitizeLocalizedContent","content","f","title","SanitizationUtil","sanitizeText","subtitle","b","undefined","sanitizeHtml","metaTitle","metaDescription","keywords","map","k","sanitizeAllContent","en","es","exports","__decorate","Injectable"],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/news-releases/services/content-sanitization.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { SanitizationUtil } from '../utils/sanitization.util';\nimport { LocalizedNewsContent } from '@vtexday26/shared';\n\n@Injectable()\nexport class ContentSanitizationService {\n  sanitizeLocalizedContent(content: LocalizedNewsContent): LocalizedNewsContent {\n    return {\n      title: SanitizationUtil.sanitizeText(content.title),\n      subtitle: content.subtitle ? SanitizationUtil.sanitizeText(content.subtitle) : undefined,\n      content: SanitizationUtil.sanitizeHtml(content.content),\n      metaTitle: content.metaTitle ? SanitizationUtil.sanitizeText(content.metaTitle) : undefined,\n      metaDescription: content.metaDescription\n        ? SanitizationUtil.sanitizeText(content.metaDescription)\n        : undefined,\n      keywords: content.keywords?.map((k) => SanitizationUtil.sanitizeText(k)),\n    };\n  }\n\n  sanitizeAllContent(content: {\n    'pt-BR': LocalizedNewsContent;\n    en: LocalizedNewsContent;\n    es: LocalizedNewsContent;\n  }): any {\n    return {\n      'pt-BR': this.sanitizeLocalizedContent(content['pt-BR']),\n      en: this.sanitizeLocalizedContent(content['en']),\n      es: this.sanitizeLocalizedContent(content['es']),\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}