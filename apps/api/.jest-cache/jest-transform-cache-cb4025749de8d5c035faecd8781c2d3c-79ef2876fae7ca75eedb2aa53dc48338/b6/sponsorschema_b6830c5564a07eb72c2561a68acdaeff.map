{"version":3,"names":["cov_1rjvw4cxb2","actualCoverage","mongoose_1","s","require","mongoose_2","Description","__decorate","Prop","required","maxlength","trim","Schema","_id","SocialLinks","linkedin","instagram","facebook","match","Sponsor","name","slug","description","logoUrl","tier","orderInTier","websiteUrl","standLocation","adminEmail","contactEmail","socialLinks","maxPosts","postsUsed","tags","isVisible","deletedAt","deletedBy","deleteReason","exports","unique","lowercase","type","Types","ObjectId","ref","index","min","default","String","Date","timestamps","collection","SponsorSchema","SchemaFactory","createForClass","pre","next","f","b","toLowerCase","Array","isArray","map","tag","undefined","Error","virtual","get","Math","max","methods","language"],"sources":["/home/luisneto98/Documentos/Code/monorepo-vtex/apps/api/src/modules/sponsors/schemas/sponsor.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document, Schema as MongooseSchema } from 'mongoose';\nimport { Sponsor as ISponsor, SponsorSocialLinks } from '@shared/types/sponsor.types';\n\nexport type SponsorDocument = Sponsor & Document;\n\n@Schema({ _id: false })\nclass Description {\n  @Prop({\n    required: true,\n    maxlength: 500,\n    trim: true,\n  })\n  'pt-BR': string;\n\n  @Prop({\n    required: true,\n    maxlength: 500,\n    trim: true,\n  })\n  'en': string;\n}\n\n@Schema({ _id: false })\nclass SocialLinks implements SponsorSocialLinks {\n  @Prop({\n    match: /^https?:\\/\\/(www\\.)?linkedin\\.com\\/.+/,\n  })\n  linkedin?: string;\n\n  @Prop({\n    match: /^https?:\\/\\/(www\\.)?instagram\\.com\\/.+/,\n  })\n  instagram?: string;\n\n  @Prop({\n    match: /^https?:\\/\\/(www\\.)?facebook\\.com\\/.+/,\n  })\n  facebook?: string;\n}\n\n@Schema({ timestamps: true, collection: 'Sponsor' })\nexport class Sponsor implements Omit<ISponsor, '_id'> {\n  @Prop({\n    required: true,\n    unique: true,\n    maxlength: 100,\n    trim: true,\n  })\n  name: string;\n\n  @Prop({\n    required: true,\n    unique: true,\n    lowercase: true,\n    trim: true,\n    match: /^[a-z0-9-]+$/,\n  })\n  slug: string;\n\n  @Prop({\n    type: Description,\n    required: true,\n  })\n  description: {\n    'pt-BR': string;\n    en: string;\n  };\n\n  @Prop({\n    match: /^https?:\\/\\/.+/,\n  })\n  logoUrl?: string;\n\n  @Prop({\n    type: MongooseSchema.Types.ObjectId,\n    ref: 'SponsorTier',\n    required: true,\n    index: true,\n  })\n  tier: string;\n\n  @Prop({\n    required: true,\n    min: 1,\n  })\n  orderInTier: number;\n\n  @Prop({\n    match: /^https?:\\/\\/.+/,\n  })\n  websiteUrl?: string;\n\n  @Prop({\n    maxlength: 100,\n    trim: true,\n  })\n  standLocation?: string;\n\n  @Prop({\n    required: true,\n    lowercase: true,\n    trim: true,\n    match: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/,\n  })\n  adminEmail: string;\n\n  @Prop({\n    lowercase: true,\n    trim: true,\n    match: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/,\n  })\n  contactEmail?: string;\n\n  @Prop({\n    type: SocialLinks,\n    default: {},\n  })\n  socialLinks?: SponsorSocialLinks;\n\n  @Prop({\n    min: 0,\n  })\n  maxPosts?: number;\n\n  @Prop({\n    default: 0,\n    min: 0,\n  })\n  postsUsed: number;\n\n  @Prop({\n    type: [String],\n    default: [],\n  })\n  tags: string[];\n\n  @Prop({\n    default: true,\n    index: true,\n  })\n  isVisible: boolean;\n\n  @Prop({\n    type: Date,\n    default: null,\n  })\n  deletedAt?: Date;\n\n  @Prop({\n    type: MongooseSchema.Types.ObjectId,\n    ref: 'User',\n  })\n  deletedBy?: MongooseSchema.Types.ObjectId;\n\n  @Prop({\n    type: String,\n  })\n  deleteReason?: string;\n}\n\nexport const SponsorSchema = SchemaFactory.createForClass(Sponsor);\n\n// Indexes\nSponsorSchema.index({ tier: 1, orderInTier: 1 });\nSponsorSchema.index({ slug: 1 });\nSponsorSchema.index({ isVisible: 1 });\nSponsorSchema.index({ deletedAt: 1 });\nSponsorSchema.index({ tags: 1 });\nSponsorSchema.index({ name: 'text', 'description.pt-BR': 'text', 'description.en': 'text' });\n\n// Pre-save middleware for data normalization\nSponsorSchema.pre('save', function (next) {\n  if (this.name) {\n    this.name = this.name.trim();\n  }\n  if (this.slug) {\n    this.slug = this.slug.toLowerCase().trim();\n  }\n  if (this.adminEmail) {\n    this.adminEmail = this.adminEmail.toLowerCase().trim();\n  }\n  if (this.contactEmail) {\n    this.contactEmail = this.contactEmail.toLowerCase().trim();\n  }\n  if (this.standLocation) {\n    this.standLocation = this.standLocation.trim();\n  }\n  if (this.description) {\n    if (this.description['pt-BR']) {\n      this.description['pt-BR'] = this.description['pt-BR'].trim();\n    }\n    if (this.description['en']) {\n      this.description['en'] = this.description['en'].trim();\n    }\n  }\n  if (this.tags && Array.isArray(this.tags)) {\n    this.tags = this.tags.map((tag) => tag.toLowerCase().trim());\n  }\n  next();\n});\n\n// Validation middleware\nSponsorSchema.pre('save', function (next) {\n  if (this.maxPosts !== undefined && this.postsUsed > this.maxPosts) {\n    next(new Error('Posts used cannot exceed max posts limit'));\n    return;\n  }\n  next();\n});\n\n// Virtual fields\nSponsorSchema.virtual('postsRemaining').get(function () {\n  if (this.maxPosts !== undefined) {\n    return Math.max(0, this.maxPosts - this.postsUsed);\n  }\n  return null;\n});\n\nSponsorSchema.virtual('hasReachedPostLimit').get(function () {\n  if (this.maxPosts !== undefined) {\n    return this.postsUsed >= this.maxPosts;\n  }\n  return false;\n});\n\n// Schema methods\nSponsorSchema.methods['getLocalizedDescription'] = function (language: 'pt-BR' | 'en'): string {\n  return this['description'][language] || this['description']['pt-BR'];\n};\n\nSponsorSchema.methods['canCreatePost'] = function (): boolean {\n  if (this['maxPosts'] === undefined) {\n    return true;\n  }\n  return this['postsUsed'] < this['maxPosts'];\n};\n\nSponsorSchema.methods['incrementPostCount'] = function (): void {\n  this['postsUsed'] = (this['postsUsed'] || 0) + 1;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAakB;IAAAA,cAAA,YA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","ignoreList":[]}